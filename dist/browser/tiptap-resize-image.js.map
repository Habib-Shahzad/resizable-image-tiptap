{"version":3,"file":"tiptap-resize-image.js","sources":["../../node_modules/@tiptap/core/dist/index.js","../../node_modules/@tiptap/react/dist/index.js","../../node_modules/re-resizable/lib/resizer.js","../../node_modules/re-resizable/lib/index.js","../../src/ResizableImage/wrapper/index.tsx","../../src/ResizableImage/index.tsx"],"sourcesContent":["import { Plugin, PluginKey, TextSelection, Selection, NodeSelection, EditorState } from '@tiptap/pm/state';\nimport { EditorView } from '@tiptap/pm/view';\nimport { keymap } from '@tiptap/pm/keymap';\nimport { Schema, Fragment, DOMParser, DOMSerializer, Node as Node$1, Slice } from '@tiptap/pm/model';\nimport { liftTarget, ReplaceStep, ReplaceAroundStep, joinPoint, Transform, canSplit, canJoin, findWrapping } from '@tiptap/pm/transform';\nimport { createParagraphNear as createParagraphNear$1, deleteSelection as deleteSelection$1, exitCode as exitCode$1, joinUp as joinUp$1, joinDown as joinDown$1, joinBackward as joinBackward$1, joinForward as joinForward$1, lift as lift$1, liftEmptyBlock as liftEmptyBlock$1, newlineInCode as newlineInCode$1, selectNodeBackward as selectNodeBackward$1, selectNodeForward as selectNodeForward$1, selectParentNode as selectParentNode$1, selectTextblockEnd as selectTextblockEnd$1, selectTextblockStart as selectTextblockStart$1, setBlockType, wrapIn as wrapIn$1 } from '@tiptap/pm/commands';\nimport { liftListItem as liftListItem$1, sinkListItem as sinkListItem$1, wrapInList as wrapInList$1 } from '@tiptap/pm/schema-list';\n\nfunction createChainableState(config) {\r\n    const { state, transaction } = config;\r\n    let { selection } = transaction;\r\n    let { doc } = transaction;\r\n    let { storedMarks } = transaction;\r\n    return {\r\n        ...state,\r\n        apply: state.apply.bind(state),\r\n        applyTransaction: state.applyTransaction.bind(state),\r\n        filterTransaction: state.filterTransaction,\r\n        plugins: state.plugins,\r\n        schema: state.schema,\r\n        reconfigure: state.reconfigure.bind(state),\r\n        toJSON: state.toJSON.bind(state),\r\n        get storedMarks() {\r\n            return storedMarks;\r\n        },\r\n        get selection() {\r\n            return selection;\r\n        },\r\n        get doc() {\r\n            return doc;\r\n        },\r\n        get tr() {\r\n            selection = transaction.selection;\r\n            doc = transaction.doc;\r\n            storedMarks = transaction.storedMarks;\r\n            return transaction;\r\n        },\r\n    };\r\n}\n\nclass CommandManager {\r\n    constructor(props) {\r\n        this.editor = props.editor;\r\n        this.rawCommands = this.editor.extensionManager.commands;\r\n        this.customState = props.state;\r\n    }\r\n    get hasCustomState() {\r\n        return !!this.customState;\r\n    }\r\n    get state() {\r\n        return this.customState || this.editor.state;\r\n    }\r\n    get commands() {\r\n        const { rawCommands, editor, state } = this;\r\n        const { view } = editor;\r\n        const { tr } = state;\r\n        const props = this.buildProps(tr);\r\n        return Object.fromEntries(Object.entries(rawCommands).map(([name, command]) => {\r\n            const method = (...args) => {\r\n                const callback = command(...args)(props);\r\n                if (!tr.getMeta('preventDispatch') && !this.hasCustomState) {\r\n                    view.dispatch(tr);\r\n                }\r\n                return callback;\r\n            };\r\n            return [name, method];\r\n        }));\r\n    }\r\n    get chain() {\r\n        return () => this.createChain();\r\n    }\r\n    get can() {\r\n        return () => this.createCan();\r\n    }\r\n    createChain(startTr, shouldDispatch = true) {\r\n        const { rawCommands, editor, state } = this;\r\n        const { view } = editor;\r\n        const callbacks = [];\r\n        const hasStartTransaction = !!startTr;\r\n        const tr = startTr || state.tr;\r\n        const run = () => {\r\n            if (!hasStartTransaction\r\n                && shouldDispatch\r\n                && !tr.getMeta('preventDispatch')\r\n                && !this.hasCustomState) {\r\n                view.dispatch(tr);\r\n            }\r\n            return callbacks.every(callback => callback === true);\r\n        };\r\n        const chain = {\r\n            ...Object.fromEntries(Object.entries(rawCommands).map(([name, command]) => {\r\n                const chainedCommand = (...args) => {\r\n                    const props = this.buildProps(tr, shouldDispatch);\r\n                    const callback = command(...args)(props);\r\n                    callbacks.push(callback);\r\n                    return chain;\r\n                };\r\n                return [name, chainedCommand];\r\n            })),\r\n            run,\r\n        };\r\n        return chain;\r\n    }\r\n    createCan(startTr) {\r\n        const { rawCommands, state } = this;\r\n        const dispatch = false;\r\n        const tr = startTr || state.tr;\r\n        const props = this.buildProps(tr, dispatch);\r\n        const formattedCommands = Object.fromEntries(Object.entries(rawCommands).map(([name, command]) => {\r\n            return [name, (...args) => command(...args)({ ...props, dispatch: undefined })];\r\n        }));\r\n        return {\r\n            ...formattedCommands,\r\n            chain: () => this.createChain(tr, dispatch),\r\n        };\r\n    }\r\n    buildProps(tr, shouldDispatch = true) {\r\n        const { rawCommands, editor, state } = this;\r\n        const { view } = editor;\r\n        const props = {\r\n            tr,\r\n            editor,\r\n            view,\r\n            state: createChainableState({\r\n                state,\r\n                transaction: tr,\r\n            }),\r\n            dispatch: shouldDispatch ? () => undefined : undefined,\r\n            chain: () => this.createChain(tr, shouldDispatch),\r\n            can: () => this.createCan(tr),\r\n            get commands() {\r\n                return Object.fromEntries(Object.entries(rawCommands).map(([name, command]) => {\r\n                    return [name, (...args) => command(...args)(props)];\r\n                }));\r\n            },\r\n        };\r\n        return props;\r\n    }\r\n}\n\nclass EventEmitter {\r\n    constructor() {\r\n        this.callbacks = {};\r\n    }\r\n    on(event, fn) {\r\n        if (!this.callbacks[event]) {\r\n            this.callbacks[event] = [];\r\n        }\r\n        this.callbacks[event].push(fn);\r\n        return this;\r\n    }\r\n    emit(event, ...args) {\r\n        const callbacks = this.callbacks[event];\r\n        if (callbacks) {\r\n            callbacks.forEach(callback => callback.apply(this, args));\r\n        }\r\n        return this;\r\n    }\r\n    off(event, fn) {\r\n        const callbacks = this.callbacks[event];\r\n        if (callbacks) {\r\n            if (fn) {\r\n                this.callbacks[event] = callbacks.filter(callback => callback !== fn);\r\n            }\r\n            else {\r\n                delete this.callbacks[event];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    removeAllListeners() {\r\n        this.callbacks = {};\r\n    }\r\n}\n\nfunction getExtensionField(extension, field, context) {\r\n    if (extension.config[field] === undefined && extension.parent) {\r\n        return getExtensionField(extension.parent, field, context);\r\n    }\r\n    if (typeof extension.config[field] === 'function') {\r\n        const value = extension.config[field].bind({\r\n            ...context,\r\n            parent: extension.parent\r\n                ? getExtensionField(extension.parent, field, context)\r\n                : null,\r\n        });\r\n        return value;\r\n    }\r\n    return extension.config[field];\r\n}\n\nfunction splitExtensions(extensions) {\r\n    const baseExtensions = extensions.filter(extension => extension.type === 'extension');\r\n    const nodeExtensions = extensions.filter(extension => extension.type === 'node');\r\n    const markExtensions = extensions.filter(extension => extension.type === 'mark');\r\n    return {\r\n        baseExtensions,\r\n        nodeExtensions,\r\n        markExtensions,\r\n    };\r\n}\n\n/**\r\n * Get a list of all extension attributes defined in `addAttribute` and `addGlobalAttribute`.\r\n * @param extensions List of extensions\r\n */\r\nfunction getAttributesFromExtensions(extensions) {\r\n    const extensionAttributes = [];\r\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\r\n    const nodeAndMarkExtensions = [...nodeExtensions, ...markExtensions];\r\n    const defaultAttribute = {\r\n        default: null,\r\n        rendered: true,\r\n        renderHTML: null,\r\n        parseHTML: null,\r\n        keepOnSplit: true,\r\n        isRequired: false,\r\n    };\r\n    extensions.forEach(extension => {\r\n        const context = {\r\n            name: extension.name,\r\n            options: extension.options,\r\n            storage: extension.storage,\r\n        };\r\n        const addGlobalAttributes = getExtensionField(extension, 'addGlobalAttributes', context);\r\n        if (!addGlobalAttributes) {\r\n            return;\r\n        }\r\n        // TODO: remove `as GlobalAttributes`\r\n        const globalAttributes = addGlobalAttributes();\r\n        globalAttributes.forEach(globalAttribute => {\r\n            globalAttribute.types.forEach(type => {\r\n                Object\r\n                    .entries(globalAttribute.attributes)\r\n                    .forEach(([name, attribute]) => {\r\n                    extensionAttributes.push({\r\n                        type,\r\n                        name,\r\n                        attribute: {\r\n                            ...defaultAttribute,\r\n                            ...attribute,\r\n                        },\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    });\r\n    nodeAndMarkExtensions.forEach(extension => {\r\n        const context = {\r\n            name: extension.name,\r\n            options: extension.options,\r\n            storage: extension.storage,\r\n        };\r\n        const addAttributes = getExtensionField(extension, 'addAttributes', context);\r\n        if (!addAttributes) {\r\n            return;\r\n        }\r\n        // TODO: remove `as Attributes`\r\n        const attributes = addAttributes();\r\n        Object\r\n            .entries(attributes)\r\n            .forEach(([name, attribute]) => {\r\n            const mergedAttr = {\r\n                ...defaultAttribute,\r\n                ...attribute,\r\n            };\r\n            if (typeof (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === 'function') {\r\n                mergedAttr.default = mergedAttr.default();\r\n            }\r\n            if ((mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.isRequired) && (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === undefined) {\r\n                delete mergedAttr.default;\r\n            }\r\n            extensionAttributes.push({\r\n                type: extension.name,\r\n                name,\r\n                attribute: mergedAttr,\r\n            });\r\n        });\r\n    });\r\n    return extensionAttributes;\r\n}\n\nfunction getNodeType(nameOrType, schema) {\r\n    if (typeof nameOrType === 'string') {\r\n        if (!schema.nodes[nameOrType]) {\r\n            throw Error(`There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`);\r\n        }\r\n        return schema.nodes[nameOrType];\r\n    }\r\n    return nameOrType;\r\n}\n\nfunction mergeAttributes(...objects) {\r\n    return objects\r\n        .filter(item => !!item)\r\n        .reduce((items, item) => {\r\n        const mergedAttributes = { ...items };\r\n        Object.entries(item).forEach(([key, value]) => {\r\n            const exists = mergedAttributes[key];\r\n            if (!exists) {\r\n                mergedAttributes[key] = value;\r\n                return;\r\n            }\r\n            if (key === 'class') {\r\n                const valueClasses = value ? value.split(' ') : [];\r\n                const existingClasses = mergedAttributes[key] ? mergedAttributes[key].split(' ') : [];\r\n                const insertClasses = valueClasses.filter(valueClass => !existingClasses.includes(valueClass));\r\n                mergedAttributes[key] = [...existingClasses, ...insertClasses].join(' ');\r\n            }\r\n            else if (key === 'style') {\r\n                mergedAttributes[key] = [mergedAttributes[key], value].join('; ');\r\n            }\r\n            else {\r\n                mergedAttributes[key] = value;\r\n            }\r\n        });\r\n        return mergedAttributes;\r\n    }, {});\r\n}\n\nfunction getRenderedAttributes(nodeOrMark, extensionAttributes) {\r\n    return extensionAttributes\r\n        .filter(item => item.attribute.rendered)\r\n        .map(item => {\r\n        if (!item.attribute.renderHTML) {\r\n            return {\r\n                [item.name]: nodeOrMark.attrs[item.name],\r\n            };\r\n        }\r\n        return item.attribute.renderHTML(nodeOrMark.attrs) || {};\r\n    })\r\n        .reduce((attributes, attribute) => mergeAttributes(attributes, attribute), {});\r\n}\n\nfunction isFunction(value) {\r\n    return typeof value === 'function';\r\n}\n\n/**\r\n * Optionally calls `value` as a function.\r\n * Otherwise it is returned directly.\r\n * @param value Function or any value.\r\n * @param context Optional context to bind to function.\r\n * @param props Optional props to pass to function.\r\n */\r\nfunction callOrReturn(value, context = undefined, ...props) {\r\n    if (isFunction(value)) {\r\n        if (context) {\r\n            return value.bind(context)(...props);\r\n        }\r\n        return value(...props);\r\n    }\r\n    return value;\r\n}\n\nfunction isEmptyObject(value = {}) {\r\n    return Object.keys(value).length === 0 && value.constructor === Object;\r\n}\n\nfunction fromString(value) {\r\n    if (typeof value !== 'string') {\r\n        return value;\r\n    }\r\n    if (value.match(/^[+-]?(?:\\d*\\.)?\\d+$/)) {\r\n        return Number(value);\r\n    }\r\n    if (value === 'true') {\r\n        return true;\r\n    }\r\n    if (value === 'false') {\r\n        return false;\r\n    }\r\n    return value;\r\n}\n\n/**\r\n * This function merges extension attributes into parserule attributes (`attrs` or `getAttrs`).\r\n * Cancels when `getAttrs` returned `false`.\r\n * @param parseRule ProseMirror ParseRule\r\n * @param extensionAttributes List of attributes to inject\r\n */\r\nfunction injectExtensionAttributesToParseRule(parseRule, extensionAttributes) {\r\n    if (parseRule.style) {\r\n        return parseRule;\r\n    }\r\n    return {\r\n        ...parseRule,\r\n        getAttrs: node => {\r\n            const oldAttributes = parseRule.getAttrs ? parseRule.getAttrs(node) : parseRule.attrs;\r\n            if (oldAttributes === false) {\r\n                return false;\r\n            }\r\n            const newAttributes = extensionAttributes.reduce((items, item) => {\r\n                const value = item.attribute.parseHTML\r\n                    ? item.attribute.parseHTML(node)\r\n                    : fromString(node.getAttribute(item.name));\r\n                if (value === null || value === undefined) {\r\n                    return items;\r\n                }\r\n                return {\r\n                    ...items,\r\n                    [item.name]: value,\r\n                };\r\n            }, {});\r\n            return { ...oldAttributes, ...newAttributes };\r\n        },\r\n    };\r\n}\n\nfunction cleanUpSchemaItem(data) {\r\n    return Object.fromEntries(\r\n    // @ts-ignore\r\n    Object.entries(data).filter(([key, value]) => {\r\n        if (key === 'attrs' && isEmptyObject(value)) {\r\n            return false;\r\n        }\r\n        return value !== null && value !== undefined;\r\n    }));\r\n}\r\nfunction getSchemaByResolvedExtensions(extensions, editor) {\r\n    var _a;\r\n    const allAttributes = getAttributesFromExtensions(extensions);\r\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\r\n    const topNode = (_a = nodeExtensions.find(extension => getExtensionField(extension, 'topNode'))) === null || _a === void 0 ? void 0 : _a.name;\r\n    const nodes = Object.fromEntries(nodeExtensions.map(extension => {\r\n        const extensionAttributes = allAttributes.filter(attribute => attribute.type === extension.name);\r\n        const context = {\r\n            name: extension.name,\r\n            options: extension.options,\r\n            storage: extension.storage,\r\n            editor,\r\n        };\r\n        const extraNodeFields = extensions.reduce((fields, e) => {\r\n            const extendNodeSchema = getExtensionField(e, 'extendNodeSchema', context);\r\n            return {\r\n                ...fields,\r\n                ...(extendNodeSchema ? extendNodeSchema(extension) : {}),\r\n            };\r\n        }, {});\r\n        const schema = cleanUpSchemaItem({\r\n            ...extraNodeFields,\r\n            content: callOrReturn(getExtensionField(extension, 'content', context)),\r\n            marks: callOrReturn(getExtensionField(extension, 'marks', context)),\r\n            group: callOrReturn(getExtensionField(extension, 'group', context)),\r\n            inline: callOrReturn(getExtensionField(extension, 'inline', context)),\r\n            atom: callOrReturn(getExtensionField(extension, 'atom', context)),\r\n            selectable: callOrReturn(getExtensionField(extension, 'selectable', context)),\r\n            draggable: callOrReturn(getExtensionField(extension, 'draggable', context)),\r\n            code: callOrReturn(getExtensionField(extension, 'code', context)),\r\n            defining: callOrReturn(getExtensionField(extension, 'defining', context)),\r\n            isolating: callOrReturn(getExtensionField(extension, 'isolating', context)),\r\n            attrs: Object.fromEntries(extensionAttributes.map(extensionAttribute => {\r\n                var _a;\r\n                return [extensionAttribute.name, { default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default }];\r\n            })),\r\n        });\r\n        const parseHTML = callOrReturn(getExtensionField(extension, 'parseHTML', context));\r\n        if (parseHTML) {\r\n            schema.parseDOM = parseHTML.map(parseRule => injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\r\n        }\r\n        const renderHTML = getExtensionField(extension, 'renderHTML', context);\r\n        if (renderHTML) {\r\n            schema.toDOM = node => renderHTML({\r\n                node,\r\n                HTMLAttributes: getRenderedAttributes(node, extensionAttributes),\r\n            });\r\n        }\r\n        const renderText = getExtensionField(extension, 'renderText', context);\r\n        if (renderText) {\r\n            schema.toText = renderText;\r\n        }\r\n        return [extension.name, schema];\r\n    }));\r\n    const marks = Object.fromEntries(markExtensions.map(extension => {\r\n        const extensionAttributes = allAttributes.filter(attribute => attribute.type === extension.name);\r\n        const context = {\r\n            name: extension.name,\r\n            options: extension.options,\r\n            storage: extension.storage,\r\n            editor,\r\n        };\r\n        const extraMarkFields = extensions.reduce((fields, e) => {\r\n            const extendMarkSchema = getExtensionField(e, 'extendMarkSchema', context);\r\n            return {\r\n                ...fields,\r\n                ...(extendMarkSchema ? extendMarkSchema(extension) : {}),\r\n            };\r\n        }, {});\r\n        const schema = cleanUpSchemaItem({\r\n            ...extraMarkFields,\r\n            inclusive: callOrReturn(getExtensionField(extension, 'inclusive', context)),\r\n            excludes: callOrReturn(getExtensionField(extension, 'excludes', context)),\r\n            group: callOrReturn(getExtensionField(extension, 'group', context)),\r\n            spanning: callOrReturn(getExtensionField(extension, 'spanning', context)),\r\n            code: callOrReturn(getExtensionField(extension, 'code', context)),\r\n            attrs: Object.fromEntries(extensionAttributes.map(extensionAttribute => {\r\n                var _a;\r\n                return [extensionAttribute.name, { default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default }];\r\n            })),\r\n        });\r\n        const parseHTML = callOrReturn(getExtensionField(extension, 'parseHTML', context));\r\n        if (parseHTML) {\r\n            schema.parseDOM = parseHTML.map(parseRule => injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\r\n        }\r\n        const renderHTML = getExtensionField(extension, 'renderHTML', context);\r\n        if (renderHTML) {\r\n            schema.toDOM = mark => renderHTML({\r\n                mark,\r\n                HTMLAttributes: getRenderedAttributes(mark, extensionAttributes),\r\n            });\r\n        }\r\n        return [extension.name, schema];\r\n    }));\r\n    return new Schema({\r\n        topNode,\r\n        nodes,\r\n        marks,\r\n    });\r\n}\n\nfunction getSchemaTypeByName(name, schema) {\r\n    return schema.nodes[name] || schema.marks[name] || null;\r\n}\n\nfunction isExtensionRulesEnabled(extension, enabled) {\r\n    if (Array.isArray(enabled)) {\r\n        return enabled.some(enabledExtension => {\r\n            const name = typeof enabledExtension === 'string'\r\n                ? enabledExtension\r\n                : enabledExtension.name;\r\n            return name === extension.name;\r\n        });\r\n    }\r\n    return enabled;\r\n}\n\nconst getTextContentFromNodes = ($from, maxMatch = 500) => {\r\n    let textBefore = '';\r\n    const sliceEndPos = $from.parentOffset;\r\n    $from.parent.nodesBetween(Math.max(0, sliceEndPos - maxMatch), sliceEndPos, (node, pos, parent, index) => {\r\n        var _a, _b;\r\n        const chunk = ((_b = (_a = node.type.spec).toText) === null || _b === void 0 ? void 0 : _b.call(_a, {\r\n            node,\r\n            pos,\r\n            parent,\r\n            index,\r\n        }))\r\n            || node.textContent\r\n            || '%leaf%';\r\n        textBefore += chunk.slice(0, Math.max(0, sliceEndPos - pos));\r\n    });\r\n    return textBefore;\r\n};\n\nfunction isRegExp(value) {\r\n    return Object.prototype.toString.call(value) === '[object RegExp]';\r\n}\n\nclass InputRule {\r\n    constructor(config) {\r\n        this.find = config.find;\r\n        this.handler = config.handler;\r\n    }\r\n}\r\nconst inputRuleMatcherHandler = (text, find) => {\r\n    if (isRegExp(find)) {\r\n        return find.exec(text);\r\n    }\r\n    const inputRuleMatch = find(text);\r\n    if (!inputRuleMatch) {\r\n        return null;\r\n    }\r\n    const result = [inputRuleMatch.text];\r\n    result.index = inputRuleMatch.index;\r\n    result.input = text;\r\n    result.data = inputRuleMatch.data;\r\n    if (inputRuleMatch.replaceWith) {\r\n        if (!inputRuleMatch.text.includes(inputRuleMatch.replaceWith)) {\r\n            console.warn('[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".');\r\n        }\r\n        result.push(inputRuleMatch.replaceWith);\r\n    }\r\n    return result;\r\n};\r\nfunction run$1(config) {\r\n    var _a;\r\n    const { editor, from, to, text, rules, plugin, } = config;\r\n    const { view } = editor;\r\n    if (view.composing) {\r\n        return false;\r\n    }\r\n    const $from = view.state.doc.resolve(from);\r\n    if (\r\n    // check for code node\r\n    $from.parent.type.spec.code\r\n        // check for code mark\r\n        || !!((_a = ($from.nodeBefore || $from.nodeAfter)) === null || _a === void 0 ? void 0 : _a.marks.find(mark => mark.type.spec.code))) {\r\n        return false;\r\n    }\r\n    let matched = false;\r\n    const textBefore = getTextContentFromNodes($from) + text;\r\n    rules.forEach(rule => {\r\n        if (matched) {\r\n            return;\r\n        }\r\n        const match = inputRuleMatcherHandler(textBefore, rule.find);\r\n        if (!match) {\r\n            return;\r\n        }\r\n        const tr = view.state.tr;\r\n        const state = createChainableState({\r\n            state: view.state,\r\n            transaction: tr,\r\n        });\r\n        const range = {\r\n            from: from - (match[0].length - text.length),\r\n            to,\r\n        };\r\n        const { commands, chain, can } = new CommandManager({\r\n            editor,\r\n            state,\r\n        });\r\n        const handler = rule.handler({\r\n            state,\r\n            range,\r\n            match,\r\n            commands,\r\n            chain,\r\n            can,\r\n        });\r\n        // stop if there are no changes\r\n        if (handler === null || !tr.steps.length) {\r\n            return;\r\n        }\r\n        // store transform as meta data\r\n        // so we can undo input rules within the `undoInputRules` command\r\n        tr.setMeta(plugin, {\r\n            transform: tr,\r\n            from,\r\n            to,\r\n            text,\r\n        });\r\n        view.dispatch(tr);\r\n        matched = true;\r\n    });\r\n    return matched;\r\n}\r\n/**\r\n * Create an input rules plugin. When enabled, it will cause text\r\n * input that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */\r\nfunction inputRulesPlugin(props) {\r\n    const { editor, rules } = props;\r\n    const plugin = new Plugin({\r\n        state: {\r\n            init() {\r\n                return null;\r\n            },\r\n            apply(tr, prev) {\r\n                const stored = tr.getMeta(plugin);\r\n                if (stored) {\r\n                    return stored;\r\n                }\r\n                return tr.selectionSet || tr.docChanged ? null : prev;\r\n            },\r\n        },\r\n        props: {\r\n            handleTextInput(view, from, to, text) {\r\n                return run$1({\r\n                    editor,\r\n                    from,\r\n                    to,\r\n                    text,\r\n                    rules,\r\n                    plugin,\r\n                });\r\n            },\r\n            handleDOMEvents: {\r\n                compositionend: view => {\r\n                    setTimeout(() => {\r\n                        const { $cursor } = view.state.selection;\r\n                        if ($cursor) {\r\n                            run$1({\r\n                                editor,\r\n                                from: $cursor.pos,\r\n                                to: $cursor.pos,\r\n                                text: '',\r\n                                rules,\r\n                                plugin,\r\n                            });\r\n                        }\r\n                    });\r\n                    return false;\r\n                },\r\n            },\r\n            // add support for input rules to trigger on enter\r\n            // this is useful for example for code blocks\r\n            handleKeyDown(view, event) {\r\n                if (event.key !== 'Enter') {\r\n                    return false;\r\n                }\r\n                const { $cursor } = view.state.selection;\r\n                if ($cursor) {\r\n                    return run$1({\r\n                        editor,\r\n                        from: $cursor.pos,\r\n                        to: $cursor.pos,\r\n                        text: '\\n',\r\n                        rules,\r\n                        plugin,\r\n                    });\r\n                }\r\n                return false;\r\n            },\r\n        },\r\n        // @ts-ignore\r\n        isInputRules: true,\r\n    });\r\n    return plugin;\r\n}\n\nfunction isNumber(value) {\r\n    return typeof value === 'number';\r\n}\n\nclass PasteRule {\r\n    constructor(config) {\r\n        this.find = config.find;\r\n        this.handler = config.handler;\r\n    }\r\n}\r\nconst pasteRuleMatcherHandler = (text, find) => {\r\n    if (isRegExp(find)) {\r\n        return [...text.matchAll(find)];\r\n    }\r\n    const matches = find(text);\r\n    if (!matches) {\r\n        return [];\r\n    }\r\n    return matches.map(pasteRuleMatch => {\r\n        const result = [pasteRuleMatch.text];\r\n        result.index = pasteRuleMatch.index;\r\n        result.input = text;\r\n        result.data = pasteRuleMatch.data;\r\n        if (pasteRuleMatch.replaceWith) {\r\n            if (!pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)) {\r\n                console.warn('[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".');\r\n            }\r\n            result.push(pasteRuleMatch.replaceWith);\r\n        }\r\n        return result;\r\n    });\r\n};\r\nfunction run(config) {\r\n    const { editor, state, from, to, rule, } = config;\r\n    const { commands, chain, can } = new CommandManager({\r\n        editor,\r\n        state,\r\n    });\r\n    const handlers = [];\r\n    state.doc.nodesBetween(from, to, (node, pos) => {\r\n        if (!node.isTextblock || node.type.spec.code) {\r\n            return;\r\n        }\r\n        const resolvedFrom = Math.max(from, pos);\r\n        const resolvedTo = Math.min(to, pos + node.content.size);\r\n        const textToMatch = node.textBetween(resolvedFrom - pos, resolvedTo - pos, undefined, '\\ufffc');\r\n        const matches = pasteRuleMatcherHandler(textToMatch, rule.find);\r\n        matches.forEach(match => {\r\n            if (match.index === undefined) {\r\n                return;\r\n            }\r\n            const start = resolvedFrom + match.index + 1;\r\n            const end = start + match[0].length;\r\n            const range = {\r\n                from: state.tr.mapping.map(start),\r\n                to: state.tr.mapping.map(end),\r\n            };\r\n            const handler = rule.handler({\r\n                state,\r\n                range,\r\n                match,\r\n                commands,\r\n                chain,\r\n                can,\r\n            });\r\n            handlers.push(handler);\r\n        });\r\n    });\r\n    const success = handlers.every(handler => handler !== null);\r\n    return success;\r\n}\r\n/**\r\n * Create an paste rules plugin. When enabled, it will cause pasted\r\n * text that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */\r\nfunction pasteRulesPlugin(props) {\r\n    const { editor, rules } = props;\r\n    let dragSourceElement = null;\r\n    let isPastedFromProseMirror = false;\r\n    let isDroppedFromProseMirror = false;\r\n    const plugins = rules.map(rule => {\r\n        return new Plugin({\r\n            // we register a global drag handler to track the current drag source element\r\n            view(view) {\r\n                const handleDragstart = (event) => {\r\n                    var _a;\r\n                    dragSourceElement = ((_a = view.dom.parentElement) === null || _a === void 0 ? void 0 : _a.contains(event.target))\r\n                        ? view.dom.parentElement\r\n                        : null;\r\n                };\r\n                window.addEventListener('dragstart', handleDragstart);\r\n                return {\r\n                    destroy() {\r\n                        window.removeEventListener('dragstart', handleDragstart);\r\n                    },\r\n                };\r\n            },\r\n            props: {\r\n                handleDOMEvents: {\r\n                    drop: view => {\r\n                        isDroppedFromProseMirror = dragSourceElement === view.dom.parentElement;\r\n                        return false;\r\n                    },\r\n                    paste: (view, event) => {\r\n                        var _a;\r\n                        const html = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData('text/html');\r\n                        isPastedFromProseMirror = !!(html === null || html === void 0 ? void 0 : html.includes('data-pm-slice'));\r\n                        return false;\r\n                    },\r\n                },\r\n            },\r\n            appendTransaction: (transactions, oldState, state) => {\r\n                const transaction = transactions[0];\r\n                const isPaste = transaction.getMeta('uiEvent') === 'paste' && !isPastedFromProseMirror;\r\n                const isDrop = transaction.getMeta('uiEvent') === 'drop' && !isDroppedFromProseMirror;\r\n                if (!isPaste && !isDrop) {\r\n                    return;\r\n                }\r\n                // stop if there is no changed range\r\n                const from = oldState.doc.content.findDiffStart(state.doc.content);\r\n                const to = oldState.doc.content.findDiffEnd(state.doc.content);\r\n                if (!isNumber(from) || !to || from === to.b) {\r\n                    return;\r\n                }\r\n                // build a chainable state\r\n                // so we can use a single transaction for all paste rules\r\n                const tr = state.tr;\r\n                const chainableState = createChainableState({\r\n                    state,\r\n                    transaction: tr,\r\n                });\r\n                const handler = run({\r\n                    editor,\r\n                    state: chainableState,\r\n                    from: Math.max(from - 1, 0),\r\n                    to: to.b - 1,\r\n                    rule,\r\n                });\r\n                // stop if there are no changes\r\n                if (!handler || !tr.steps.length) {\r\n                    return;\r\n                }\r\n                return tr;\r\n            },\r\n        });\r\n    });\r\n    return plugins;\r\n}\n\nfunction findDuplicates(items) {\r\n    const filtered = items.filter((el, index) => items.indexOf(el) !== index);\r\n    return [...new Set(filtered)];\r\n}\n\nclass ExtensionManager {\r\n    constructor(extensions, editor) {\r\n        this.splittableMarks = [];\r\n        this.editor = editor;\r\n        this.extensions = ExtensionManager.resolve(extensions);\r\n        this.schema = getSchemaByResolvedExtensions(this.extensions, editor);\r\n        this.extensions.forEach(extension => {\r\n            var _a;\r\n            // store extension storage in editor\r\n            this.editor.extensionStorage[extension.name] = extension.storage;\r\n            const context = {\r\n                name: extension.name,\r\n                options: extension.options,\r\n                storage: extension.storage,\r\n                editor: this.editor,\r\n                type: getSchemaTypeByName(extension.name, this.schema),\r\n            };\r\n            if (extension.type === 'mark') {\r\n                const keepOnSplit = (_a = callOrReturn(getExtensionField(extension, 'keepOnSplit', context))) !== null && _a !== void 0 ? _a : true;\r\n                if (keepOnSplit) {\r\n                    this.splittableMarks.push(extension.name);\r\n                }\r\n            }\r\n            const onBeforeCreate = getExtensionField(extension, 'onBeforeCreate', context);\r\n            if (onBeforeCreate) {\r\n                this.editor.on('beforeCreate', onBeforeCreate);\r\n            }\r\n            const onCreate = getExtensionField(extension, 'onCreate', context);\r\n            if (onCreate) {\r\n                this.editor.on('create', onCreate);\r\n            }\r\n            const onUpdate = getExtensionField(extension, 'onUpdate', context);\r\n            if (onUpdate) {\r\n                this.editor.on('update', onUpdate);\r\n            }\r\n            const onSelectionUpdate = getExtensionField(extension, 'onSelectionUpdate', context);\r\n            if (onSelectionUpdate) {\r\n                this.editor.on('selectionUpdate', onSelectionUpdate);\r\n            }\r\n            const onTransaction = getExtensionField(extension, 'onTransaction', context);\r\n            if (onTransaction) {\r\n                this.editor.on('transaction', onTransaction);\r\n            }\r\n            const onFocus = getExtensionField(extension, 'onFocus', context);\r\n            if (onFocus) {\r\n                this.editor.on('focus', onFocus);\r\n            }\r\n            const onBlur = getExtensionField(extension, 'onBlur', context);\r\n            if (onBlur) {\r\n                this.editor.on('blur', onBlur);\r\n            }\r\n            const onDestroy = getExtensionField(extension, 'onDestroy', context);\r\n            if (onDestroy) {\r\n                this.editor.on('destroy', onDestroy);\r\n            }\r\n        });\r\n    }\r\n    static resolve(extensions) {\r\n        const resolvedExtensions = ExtensionManager.sort(ExtensionManager.flatten(extensions));\r\n        const duplicatedNames = findDuplicates(resolvedExtensions.map(extension => extension.name));\r\n        if (duplicatedNames.length) {\r\n            console.warn(`[tiptap warn]: Duplicate extension names found: [${duplicatedNames\r\n                .map(item => `'${item}'`)\r\n                .join(', ')}]. This can lead to issues.`);\r\n        }\r\n        return resolvedExtensions;\r\n    }\r\n    static flatten(extensions) {\r\n        return (extensions\r\n            .map(extension => {\r\n            const context = {\r\n                name: extension.name,\r\n                options: extension.options,\r\n                storage: extension.storage,\r\n            };\r\n            const addExtensions = getExtensionField(extension, 'addExtensions', context);\r\n            if (addExtensions) {\r\n                return [extension, ...this.flatten(addExtensions())];\r\n            }\r\n            return extension;\r\n        })\r\n            // `Infinity` will break TypeScript so we set a number that is probably high enough\r\n            .flat(10));\r\n    }\r\n    static sort(extensions) {\r\n        const defaultPriority = 100;\r\n        return extensions.sort((a, b) => {\r\n            const priorityA = getExtensionField(a, 'priority') || defaultPriority;\r\n            const priorityB = getExtensionField(b, 'priority') || defaultPriority;\r\n            if (priorityA > priorityB) {\r\n                return -1;\r\n            }\r\n            if (priorityA < priorityB) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n    }\r\n    get commands() {\r\n        return this.extensions.reduce((commands, extension) => {\r\n            const context = {\r\n                name: extension.name,\r\n                options: extension.options,\r\n                storage: extension.storage,\r\n                editor: this.editor,\r\n                type: getSchemaTypeByName(extension.name, this.schema),\r\n            };\r\n            const addCommands = getExtensionField(extension, 'addCommands', context);\r\n            if (!addCommands) {\r\n                return commands;\r\n            }\r\n            return {\r\n                ...commands,\r\n                ...addCommands(),\r\n            };\r\n        }, {});\r\n    }\r\n    get plugins() {\r\n        const { editor } = this;\r\n        // With ProseMirror, first plugins within an array are executed first.\r\n        // In Tiptap, we provide the ability to override plugins,\r\n        // so it feels more natural to run plugins at the end of an array first.\r\n        // That’s why we have to reverse the `extensions` array and sort again\r\n        // based on the `priority` option.\r\n        const extensions = ExtensionManager.sort([...this.extensions].reverse());\r\n        const inputRules = [];\r\n        const pasteRules = [];\r\n        const allPlugins = extensions\r\n            .map(extension => {\r\n            const context = {\r\n                name: extension.name,\r\n                options: extension.options,\r\n                storage: extension.storage,\r\n                editor,\r\n                type: getSchemaTypeByName(extension.name, this.schema),\r\n            };\r\n            const plugins = [];\r\n            const addKeyboardShortcuts = getExtensionField(extension, 'addKeyboardShortcuts', context);\r\n            let defaultBindings = {};\r\n            // bind exit handling\r\n            if (extension.type === 'mark' && extension.config.exitable) {\r\n                defaultBindings.ArrowRight = () => Mark.handleExit({ editor, mark: extension });\r\n            }\r\n            if (addKeyboardShortcuts) {\r\n                const bindings = Object.fromEntries(Object.entries(addKeyboardShortcuts()).map(([shortcut, method]) => {\r\n                    return [shortcut, () => method({ editor })];\r\n                }));\r\n                defaultBindings = { ...defaultBindings, ...bindings };\r\n            }\r\n            const keyMapPlugin = keymap(defaultBindings);\r\n            plugins.push(keyMapPlugin);\r\n            const addInputRules = getExtensionField(extension, 'addInputRules', context);\r\n            if (isExtensionRulesEnabled(extension, editor.options.enableInputRules) && addInputRules) {\r\n                inputRules.push(...addInputRules());\r\n            }\r\n            const addPasteRules = getExtensionField(extension, 'addPasteRules', context);\r\n            if (isExtensionRulesEnabled(extension, editor.options.enablePasteRules) && addPasteRules) {\r\n                pasteRules.push(...addPasteRules());\r\n            }\r\n            const addProseMirrorPlugins = getExtensionField(extension, 'addProseMirrorPlugins', context);\r\n            if (addProseMirrorPlugins) {\r\n                const proseMirrorPlugins = addProseMirrorPlugins();\r\n                plugins.push(...proseMirrorPlugins);\r\n            }\r\n            return plugins;\r\n        })\r\n            .flat();\r\n        return [\r\n            inputRulesPlugin({\r\n                editor,\r\n                rules: inputRules,\r\n            }),\r\n            ...pasteRulesPlugin({\r\n                editor,\r\n                rules: pasteRules,\r\n            }),\r\n            ...allPlugins,\r\n        ];\r\n    }\r\n    get attributes() {\r\n        return getAttributesFromExtensions(this.extensions);\r\n    }\r\n    get nodeViews() {\r\n        const { editor } = this;\r\n        const { nodeExtensions } = splitExtensions(this.extensions);\r\n        return Object.fromEntries(nodeExtensions\r\n            .filter(extension => !!getExtensionField(extension, 'addNodeView'))\r\n            .map(extension => {\r\n            const extensionAttributes = this.attributes.filter(attribute => attribute.type === extension.name);\r\n            const context = {\r\n                name: extension.name,\r\n                options: extension.options,\r\n                storage: extension.storage,\r\n                editor,\r\n                type: getNodeType(extension.name, this.schema),\r\n            };\r\n            const addNodeView = getExtensionField(extension, 'addNodeView', context);\r\n            if (!addNodeView) {\r\n                return [];\r\n            }\r\n            const nodeview = (node, view, getPos, decorations) => {\r\n                const HTMLAttributes = getRenderedAttributes(node, extensionAttributes);\r\n                return addNodeView()({\r\n                    editor,\r\n                    node,\r\n                    getPos,\r\n                    decorations,\r\n                    HTMLAttributes,\r\n                    extension,\r\n                });\r\n            };\r\n            return [extension.name, nodeview];\r\n        }));\r\n    }\r\n}\n\n// see: https://github.com/mesqueeb/is-what/blob/88d6e4ca92fb2baab6003c54e02eedf4e729e5ab/src/index.ts\r\nfunction getType(value) {\r\n    return Object.prototype.toString.call(value).slice(8, -1);\r\n}\r\nfunction isPlainObject(value) {\r\n    if (getType(value) !== 'Object') {\r\n        return false;\r\n    }\r\n    return value.constructor === Object && Object.getPrototypeOf(value) === Object.prototype;\r\n}\n\nfunction mergeDeep(target, source) {\r\n    const output = { ...target };\r\n    if (isPlainObject(target) && isPlainObject(source)) {\r\n        Object.keys(source).forEach(key => {\r\n            if (isPlainObject(source[key])) {\r\n                if (!(key in target)) {\r\n                    Object.assign(output, { [key]: source[key] });\r\n                }\r\n                else {\r\n                    output[key] = mergeDeep(target[key], source[key]);\r\n                }\r\n            }\r\n            else {\r\n                Object.assign(output, { [key]: source[key] });\r\n            }\r\n        });\r\n    }\r\n    return output;\r\n}\n\nclass Extension {\r\n    constructor(config = {}) {\r\n        this.type = 'extension';\r\n        this.name = 'extension';\r\n        this.parent = null;\r\n        this.child = null;\r\n        this.config = {\r\n            name: this.name,\r\n            defaultOptions: {},\r\n        };\r\n        this.config = {\r\n            ...this.config,\r\n            ...config,\r\n        };\r\n        this.name = this.config.name;\r\n        if (config.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\r\n        }\r\n        // TODO: remove `addOptions` fallback\r\n        this.options = this.config.defaultOptions;\r\n        if (this.config.addOptions) {\r\n            this.options = callOrReturn(getExtensionField(this, 'addOptions', {\r\n                name: this.name,\r\n            }));\r\n        }\r\n        this.storage = callOrReturn(getExtensionField(this, 'addStorage', {\r\n            name: this.name,\r\n            options: this.options,\r\n        })) || {};\r\n    }\r\n    static create(config = {}) {\r\n        return new Extension(config);\r\n    }\r\n    configure(options = {}) {\r\n        // return a new instance so we can use the same extension\r\n        // with different calls of `configure`\r\n        const extension = this.extend();\r\n        extension.options = mergeDeep(this.options, options);\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n    extend(extendedConfig = {}) {\r\n        const extension = new Extension(extendedConfig);\r\n        extension.parent = this;\r\n        this.child = extension;\r\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\r\n        if (extendedConfig.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\r\n        }\r\n        extension.options = callOrReturn(getExtensionField(extension, 'addOptions', {\r\n            name: extension.name,\r\n        }));\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n}\n\nfunction getTextBetween(startNode, range, options) {\r\n    const { from, to } = range;\r\n    const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {};\r\n    let text = '';\r\n    let separated = true;\r\n    startNode.nodesBetween(from, to, (node, pos, parent, index) => {\r\n        var _a;\r\n        const textSerializer = textSerializers === null || textSerializers === void 0 ? void 0 : textSerializers[node.type.name];\r\n        if (textSerializer) {\r\n            if (node.isBlock && !separated) {\r\n                text += blockSeparator;\r\n                separated = true;\r\n            }\r\n            if (parent) {\r\n                text += textSerializer({\r\n                    node,\r\n                    pos,\r\n                    parent,\r\n                    index,\r\n                    range,\r\n                });\r\n            }\r\n        }\r\n        else if (node.isText) {\r\n            text += (_a = node === null || node === void 0 ? void 0 : node.text) === null || _a === void 0 ? void 0 : _a.slice(Math.max(from, pos) - pos, to - pos); // eslint-disable-line\r\n            separated = false;\r\n        }\r\n        else if (node.isBlock && !separated) {\r\n            text += blockSeparator;\r\n            separated = true;\r\n        }\r\n    });\r\n    return text;\r\n}\n\nfunction getTextSerializersFromSchema(schema) {\r\n    return Object.fromEntries(Object.entries(schema.nodes)\r\n        .filter(([, node]) => node.spec.toText)\r\n        .map(([name, node]) => [name, node.spec.toText]));\r\n}\n\nconst ClipboardTextSerializer = Extension.create({\r\n    name: 'clipboardTextSerializer',\r\n    addProseMirrorPlugins() {\r\n        return [\r\n            new Plugin({\r\n                key: new PluginKey('clipboardTextSerializer'),\r\n                props: {\r\n                    clipboardTextSerializer: () => {\r\n                        const { editor } = this;\r\n                        const { state, schema } = editor;\r\n                        const { doc, selection } = state;\r\n                        const { ranges } = selection;\r\n                        const from = Math.min(...ranges.map(range => range.$from.pos));\r\n                        const to = Math.max(...ranges.map(range => range.$to.pos));\r\n                        const textSerializers = getTextSerializersFromSchema(schema);\r\n                        const range = { from, to };\r\n                        return getTextBetween(doc, range, {\r\n                            textSerializers,\r\n                        });\r\n                    },\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nconst blur = () => ({ editor, view }) => {\r\n    requestAnimationFrame(() => {\r\n        var _a;\r\n        if (!editor.isDestroyed) {\r\n            view.dom.blur();\r\n            // Browsers should remove the caret on blur but safari does not.\r\n            // See: https://github.com/ueberdosis/tiptap/issues/2405\r\n            (_a = window === null || window === void 0 ? void 0 : window.getSelection()) === null || _a === void 0 ? void 0 : _a.removeAllRanges();\r\n        }\r\n    });\r\n    return true;\r\n};\n\nconst clearContent = (emitUpdate = false) => ({ commands }) => {\r\n    return commands.setContent('', emitUpdate);\r\n};\n\nconst clearNodes = () => ({ state, tr, dispatch }) => {\r\n    const { selection } = tr;\r\n    const { ranges } = selection;\r\n    if (!dispatch) {\r\n        return true;\r\n    }\r\n    ranges.forEach(({ $from, $to }) => {\r\n        state.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\r\n            if (node.type.isText) {\r\n                return;\r\n            }\r\n            const { doc, mapping } = tr;\r\n            const $mappedFrom = doc.resolve(mapping.map(pos));\r\n            const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize));\r\n            const nodeRange = $mappedFrom.blockRange($mappedTo);\r\n            if (!nodeRange) {\r\n                return;\r\n            }\r\n            const targetLiftDepth = liftTarget(nodeRange);\r\n            if (node.type.isTextblock) {\r\n                const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index());\r\n                tr.setNodeMarkup(nodeRange.start, defaultType);\r\n            }\r\n            if (targetLiftDepth || targetLiftDepth === 0) {\r\n                tr.lift(nodeRange, targetLiftDepth);\r\n            }\r\n        });\r\n    });\r\n    return true;\r\n};\n\nconst command = fn => props => {\r\n    return fn(props);\r\n};\n\nconst createParagraphNear = () => ({ state, dispatch }) => {\r\n    return createParagraphNear$1(state, dispatch);\r\n};\n\nconst cut = (originRange, targetPos) => ({ editor, tr }) => {\r\n    const { state } = editor;\r\n    const contentSlice = state.doc.slice(originRange.from, originRange.to);\r\n    tr.deleteRange(originRange.from, originRange.to);\r\n    const newPos = tr.mapping.map(targetPos);\r\n    tr.insert(newPos, contentSlice.content);\r\n    tr.setSelection(new TextSelection(tr.doc.resolve(newPos - 1)));\r\n    return true;\r\n};\n\nconst deleteCurrentNode = () => ({ tr, dispatch }) => {\r\n    const { selection } = tr;\r\n    const currentNode = selection.$anchor.node();\r\n    // if there is content inside the current node, break out of this command\r\n    if (currentNode.content.size > 0) {\r\n        return false;\r\n    }\r\n    const $pos = tr.selection.$anchor;\r\n    for (let depth = $pos.depth; depth > 0; depth -= 1) {\r\n        const node = $pos.node(depth);\r\n        if (node.type === currentNode.type) {\r\n            if (dispatch) {\r\n                const from = $pos.before(depth);\r\n                const to = $pos.after(depth);\r\n                tr.delete(from, to).scrollIntoView();\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nconst deleteNode = typeOrName => ({ tr, state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const $pos = tr.selection.$anchor;\r\n    for (let depth = $pos.depth; depth > 0; depth -= 1) {\r\n        const node = $pos.node(depth);\r\n        if (node.type === type) {\r\n            if (dispatch) {\r\n                const from = $pos.before(depth);\r\n                const to = $pos.after(depth);\r\n                tr.delete(from, to).scrollIntoView();\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nconst deleteRange = range => ({ tr, dispatch }) => {\r\n    const { from, to } = range;\r\n    if (dispatch) {\r\n        tr.delete(from, to);\r\n    }\r\n    return true;\r\n};\n\nconst deleteSelection = () => ({ state, dispatch }) => {\r\n    return deleteSelection$1(state, dispatch);\r\n};\n\nconst enter = () => ({ commands }) => {\r\n    return commands.keyboardShortcut('Enter');\r\n};\n\nconst exitCode = () => ({ state, dispatch }) => {\r\n    return exitCode$1(state, dispatch);\r\n};\n\n/**\r\n * Check if object1 includes object2\r\n * @param object1 Object\r\n * @param object2 Object\r\n */\r\nfunction objectIncludes(object1, object2, options = { strict: true }) {\r\n    const keys = Object.keys(object2);\r\n    if (!keys.length) {\r\n        return true;\r\n    }\r\n    return keys.every(key => {\r\n        if (options.strict) {\r\n            return object2[key] === object1[key];\r\n        }\r\n        if (isRegExp(object2[key])) {\r\n            return object2[key].test(object1[key]);\r\n        }\r\n        return object2[key] === object1[key];\r\n    });\r\n}\n\nfunction findMarkInSet(marks, type, attributes = {}) {\r\n    return marks.find(item => {\r\n        return item.type === type && objectIncludes(item.attrs, attributes);\r\n    });\r\n}\r\nfunction isMarkInSet(marks, type, attributes = {}) {\r\n    return !!findMarkInSet(marks, type, attributes);\r\n}\r\nfunction getMarkRange($pos, type, attributes = {}) {\r\n    if (!$pos || !type) {\r\n        return;\r\n    }\r\n    let start = $pos.parent.childAfter($pos.parentOffset);\r\n    if ($pos.parentOffset === start.offset && start.offset !== 0) {\r\n        start = $pos.parent.childBefore($pos.parentOffset);\r\n    }\r\n    if (!start.node) {\r\n        return;\r\n    }\r\n    const mark = findMarkInSet([...start.node.marks], type, attributes);\r\n    if (!mark) {\r\n        return;\r\n    }\r\n    let startIndex = start.index;\r\n    let startPos = $pos.start() + start.offset;\r\n    let endIndex = startIndex + 1;\r\n    let endPos = startPos + start.node.nodeSize;\r\n    findMarkInSet([...start.node.marks], type, attributes);\r\n    while (startIndex > 0 && mark.isInSet($pos.parent.child(startIndex - 1).marks)) {\r\n        startIndex -= 1;\r\n        startPos -= $pos.parent.child(startIndex).nodeSize;\r\n    }\r\n    while (endIndex < $pos.parent.childCount\r\n        && isMarkInSet([...$pos.parent.child(endIndex).marks], type, attributes)) {\r\n        endPos += $pos.parent.child(endIndex).nodeSize;\r\n        endIndex += 1;\r\n    }\r\n    return {\r\n        from: startPos,\r\n        to: endPos,\r\n    };\r\n}\n\nfunction getMarkType(nameOrType, schema) {\r\n    if (typeof nameOrType === 'string') {\r\n        if (!schema.marks[nameOrType]) {\r\n            throw Error(`There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`);\r\n        }\r\n        return schema.marks[nameOrType];\r\n    }\r\n    return nameOrType;\r\n}\n\nconst extendMarkRange = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\r\n    const type = getMarkType(typeOrName, state.schema);\r\n    const { doc, selection } = tr;\r\n    const { $from, from, to } = selection;\r\n    if (dispatch) {\r\n        const range = getMarkRange($from, type, attributes);\r\n        if (range && range.from <= from && range.to >= to) {\r\n            const newSelection = TextSelection.create(doc, range.from, range.to);\r\n            tr.setSelection(newSelection);\r\n        }\r\n    }\r\n    return true;\r\n};\n\nconst first = commands => props => {\r\n    const items = typeof commands === 'function'\r\n        ? commands(props)\r\n        : commands;\r\n    for (let i = 0; i < items.length; i += 1) {\r\n        if (items[i](props)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nfunction isTextSelection(value) {\r\n    return value instanceof TextSelection;\r\n}\n\nfunction minMax(value = 0, min = 0, max = 0) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\n\nfunction resolveFocusPosition(doc, position = null) {\r\n    if (!position) {\r\n        return null;\r\n    }\r\n    const selectionAtStart = Selection.atStart(doc);\r\n    const selectionAtEnd = Selection.atEnd(doc);\r\n    if (position === 'start' || position === true) {\r\n        return selectionAtStart;\r\n    }\r\n    if (position === 'end') {\r\n        return selectionAtEnd;\r\n    }\r\n    const minPos = selectionAtStart.from;\r\n    const maxPos = selectionAtEnd.to;\r\n    if (position === 'all') {\r\n        return TextSelection.create(doc, minMax(0, minPos, maxPos), minMax(doc.content.size, minPos, maxPos));\r\n    }\r\n    return TextSelection.create(doc, minMax(position, minPos, maxPos), minMax(position, minPos, maxPos));\r\n}\n\nfunction isiOS() {\r\n    return [\r\n        'iPad Simulator',\r\n        'iPhone Simulator',\r\n        'iPod Simulator',\r\n        'iPad',\r\n        'iPhone',\r\n        'iPod',\r\n    ].includes(navigator.platform)\r\n        // iPad on iOS 13 detection\r\n        || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\r\n}\n\nconst focus = (position = null, options = {}) => ({ editor, view, tr, dispatch, }) => {\r\n    options = {\r\n        scrollIntoView: true,\r\n        ...options,\r\n    };\r\n    const delayedFocus = () => {\r\n        // focus within `requestAnimationFrame` breaks focus on iOS\r\n        // so we have to call this\r\n        if (isiOS()) {\r\n            view.dom.focus();\r\n        }\r\n        // For React we have to focus asynchronously. Otherwise wild things happen.\r\n        // see: https://github.com/ueberdosis/tiptap/issues/1520\r\n        requestAnimationFrame(() => {\r\n            if (!editor.isDestroyed) {\r\n                view.focus();\r\n                if (options === null || options === void 0 ? void 0 : options.scrollIntoView) {\r\n                    editor.commands.scrollIntoView();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    if ((view.hasFocus() && position === null) || position === false) {\r\n        return true;\r\n    }\r\n    // we don’t try to resolve a NodeSelection or CellSelection\r\n    if (dispatch && position === null && !isTextSelection(editor.state.selection)) {\r\n        delayedFocus();\r\n        return true;\r\n    }\r\n    // pass through tr.doc instead of editor.state.doc\r\n    // since transactions could change the editors state before this command has been run\r\n    const selection = resolveFocusPosition(tr.doc, position) || editor.state.selection;\r\n    const isSameSelection = editor.state.selection.eq(selection);\r\n    if (dispatch) {\r\n        if (!isSameSelection) {\r\n            tr.setSelection(selection);\r\n        }\r\n        // `tr.setSelection` resets the stored marks\r\n        // so we’ll restore them if the selection is the same as before\r\n        if (isSameSelection && tr.storedMarks) {\r\n            tr.setStoredMarks(tr.storedMarks);\r\n        }\r\n        delayedFocus();\r\n    }\r\n    return true;\r\n};\n\nconst forEach = (items, fn) => props => {\r\n    return items.every((item, index) => fn(item, { ...props, index }));\r\n};\n\nconst insertContent = (value, options) => ({ tr, commands }) => {\r\n    return commands.insertContentAt({ from: tr.selection.from, to: tr.selection.to }, value, options);\r\n};\n\nfunction elementFromString(value) {\r\n    // add a wrapper to preserve leading and trailing whitespace\r\n    const wrappedValue = `<body>${value}</body>`;\r\n    return new window.DOMParser().parseFromString(wrappedValue, 'text/html').body;\r\n}\n\nfunction createNodeFromContent(content, schema, options) {\r\n    options = {\r\n        slice: true,\r\n        parseOptions: {},\r\n        ...options,\r\n    };\r\n    if (typeof content === 'object' && content !== null) {\r\n        try {\r\n            if (Array.isArray(content) && content.length > 0) {\r\n                return Fragment.fromArray(content.map(item => schema.nodeFromJSON(item)));\r\n            }\r\n            return schema.nodeFromJSON(content);\r\n        }\r\n        catch (error) {\r\n            console.warn('[tiptap warn]: Invalid content.', 'Passed value:', content, 'Error:', error);\r\n            return createNodeFromContent('', schema, options);\r\n        }\r\n    }\r\n    if (typeof content === 'string') {\r\n        const parser = DOMParser.fromSchema(schema);\r\n        return options.slice\r\n            ? parser.parseSlice(elementFromString(content), options.parseOptions).content\r\n            : parser.parse(elementFromString(content), options.parseOptions);\r\n    }\r\n    return createNodeFromContent('', schema, options);\r\n}\n\n// source: https://github.com/ProseMirror/prosemirror-state/blob/master/src/selection.js#L466\r\nfunction selectionToInsertionEnd(tr, startLen, bias) {\r\n    const last = tr.steps.length - 1;\r\n    if (last < startLen) {\r\n        return;\r\n    }\r\n    const step = tr.steps[last];\r\n    if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep)) {\r\n        return;\r\n    }\r\n    const map = tr.mapping.maps[last];\r\n    let end = 0;\r\n    map.forEach((_from, _to, _newFrom, newTo) => {\r\n        if (end === 0) {\r\n            end = newTo;\r\n        }\r\n    });\r\n    tr.setSelection(Selection.near(tr.doc.resolve(end), bias));\r\n}\n\nconst isFragment = (nodeOrFragment) => {\r\n    return nodeOrFragment.toString().startsWith('<');\r\n};\r\nconst insertContentAt = (position, value, options) => ({ tr, dispatch, editor }) => {\r\n    if (dispatch) {\r\n        options = {\r\n            parseOptions: {},\r\n            updateSelection: true,\r\n            ...options,\r\n        };\r\n        const content = createNodeFromContent(value, editor.schema, {\r\n            parseOptions: {\r\n                preserveWhitespace: 'full',\r\n                ...options.parseOptions,\r\n            },\r\n        });\r\n        // don’t dispatch an empty fragment because this can lead to strange errors\r\n        if (content.toString() === '<>') {\r\n            return true;\r\n        }\r\n        let { from, to } = typeof position === 'number' ? { from: position, to: position } : { from: position.from, to: position.to };\r\n        let isOnlyTextContent = true;\r\n        let isOnlyBlockContent = true;\r\n        const nodes = isFragment(content) ? content : [content];\r\n        nodes.forEach(node => {\r\n            // check if added node is valid\r\n            node.check();\r\n            isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false;\r\n            isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false;\r\n        });\r\n        // check if we can replace the wrapping node by\r\n        // the newly inserted content\r\n        // example:\r\n        // replace an empty paragraph by an inserted image\r\n        // instead of inserting the image below the paragraph\r\n        if (from === to && isOnlyBlockContent) {\r\n            const { parent } = tr.doc.resolve(from);\r\n            const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount;\r\n            if (isEmptyTextBlock) {\r\n                from -= 1;\r\n                to += 1;\r\n            }\r\n        }\r\n        // if there is only plain text we have to use `insertText`\r\n        // because this will keep the current marks\r\n        if (isOnlyTextContent) {\r\n            // if value is string, we can use it directly\r\n            // otherwise if it is an array, we have to join it\r\n            if (Array.isArray(value)) {\r\n                tr.insertText(value.map(v => v.text || '').join(''), from, to);\r\n            }\r\n            else if (typeof value === 'object' && !!value && !!value.text) {\r\n                tr.insertText(value.text, from, to);\r\n            }\r\n            else {\r\n                tr.insertText(value, from, to);\r\n            }\r\n        }\r\n        else {\r\n            tr.replaceWith(from, to, content);\r\n        }\r\n        // set cursor at end of inserted content\r\n        if (options.updateSelection) {\r\n            selectionToInsertionEnd(tr, tr.steps.length - 1, -1);\r\n        }\r\n    }\r\n    return true;\r\n};\n\nconst joinUp = () => ({ state, dispatch }) => {\r\n    return joinUp$1(state, dispatch);\r\n};\r\nconst joinDown = () => ({ state, dispatch }) => {\r\n    return joinDown$1(state, dispatch);\r\n};\r\nconst joinBackward = () => ({ state, dispatch }) => {\r\n    return joinBackward$1(state, dispatch);\r\n};\r\nconst joinForward = () => ({ state, dispatch }) => {\r\n    return joinForward$1(state, dispatch);\r\n};\n\nconst joinItemBackward = () => ({ tr, state, dispatch, }) => {\r\n    try {\r\n        const point = joinPoint(state.doc, state.selection.$from.pos, -1);\r\n        if (point === null || point === undefined) {\r\n            return false;\r\n        }\r\n        tr.join(point, 2);\r\n        if (dispatch) {\r\n            dispatch(tr);\r\n        }\r\n        return true;\r\n    }\r\n    catch {\r\n        return false;\r\n    }\r\n};\n\nconst joinItemForward = () => ({ state, dispatch, tr, }) => {\r\n    try {\r\n        const point = joinPoint(state.doc, state.selection.$from.pos, +1);\r\n        if (point === null || point === undefined) {\r\n            return false;\r\n        }\r\n        tr.join(point, 2);\r\n        if (dispatch) {\r\n            dispatch(tr);\r\n        }\r\n        return true;\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n};\n\nfunction isMacOS() {\r\n    return typeof navigator !== 'undefined'\r\n        ? /Mac/.test(navigator.platform)\r\n        : false;\r\n}\n\nfunction normalizeKeyName(name) {\r\n    const parts = name.split(/-(?!$)/);\r\n    let result = parts[parts.length - 1];\r\n    if (result === 'Space') {\r\n        result = ' ';\r\n    }\r\n    let alt;\r\n    let ctrl;\r\n    let shift;\r\n    let meta;\r\n    for (let i = 0; i < parts.length - 1; i += 1) {\r\n        const mod = parts[i];\r\n        if (/^(cmd|meta|m)$/i.test(mod)) {\r\n            meta = true;\r\n        }\r\n        else if (/^a(lt)?$/i.test(mod)) {\r\n            alt = true;\r\n        }\r\n        else if (/^(c|ctrl|control)$/i.test(mod)) {\r\n            ctrl = true;\r\n        }\r\n        else if (/^s(hift)?$/i.test(mod)) {\r\n            shift = true;\r\n        }\r\n        else if (/^mod$/i.test(mod)) {\r\n            if (isiOS() || isMacOS()) {\r\n                meta = true;\r\n            }\r\n            else {\r\n                ctrl = true;\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`Unrecognized modifier name: ${mod}`);\r\n        }\r\n    }\r\n    if (alt) {\r\n        result = `Alt-${result}`;\r\n    }\r\n    if (ctrl) {\r\n        result = `Ctrl-${result}`;\r\n    }\r\n    if (meta) {\r\n        result = `Meta-${result}`;\r\n    }\r\n    if (shift) {\r\n        result = `Shift-${result}`;\r\n    }\r\n    return result;\r\n}\r\nconst keyboardShortcut = name => ({ editor, view, tr, dispatch, }) => {\r\n    const keys = normalizeKeyName(name).split(/-(?!$)/);\r\n    const key = keys.find(item => !['Alt', 'Ctrl', 'Meta', 'Shift'].includes(item));\r\n    const event = new KeyboardEvent('keydown', {\r\n        key: key === 'Space'\r\n            ? ' '\r\n            : key,\r\n        altKey: keys.includes('Alt'),\r\n        ctrlKey: keys.includes('Ctrl'),\r\n        metaKey: keys.includes('Meta'),\r\n        shiftKey: keys.includes('Shift'),\r\n        bubbles: true,\r\n        cancelable: true,\r\n    });\r\n    const capturedTransaction = editor.captureTransaction(() => {\r\n        view.someProp('handleKeyDown', f => f(view, event));\r\n    });\r\n    capturedTransaction === null || capturedTransaction === void 0 ? void 0 : capturedTransaction.steps.forEach(step => {\r\n        const newStep = step.map(tr.mapping);\r\n        if (newStep && dispatch) {\r\n            tr.maybeStep(newStep);\r\n        }\r\n    });\r\n    return true;\r\n};\n\nfunction isNodeActive(state, typeOrName, attributes = {}) {\r\n    const { from, to, empty } = state.selection;\r\n    const type = typeOrName ? getNodeType(typeOrName, state.schema) : null;\r\n    const nodeRanges = [];\r\n    state.doc.nodesBetween(from, to, (node, pos) => {\r\n        if (node.isText) {\r\n            return;\r\n        }\r\n        const relativeFrom = Math.max(from, pos);\r\n        const relativeTo = Math.min(to, pos + node.nodeSize);\r\n        nodeRanges.push({\r\n            node,\r\n            from: relativeFrom,\r\n            to: relativeTo,\r\n        });\r\n    });\r\n    const selectionRange = to - from;\r\n    const matchedNodeRanges = nodeRanges\r\n        .filter(nodeRange => {\r\n        if (!type) {\r\n            return true;\r\n        }\r\n        return type.name === nodeRange.node.type.name;\r\n    })\r\n        .filter(nodeRange => objectIncludes(nodeRange.node.attrs, attributes, { strict: false }));\r\n    if (empty) {\r\n        return !!matchedNodeRanges.length;\r\n    }\r\n    const range = matchedNodeRanges.reduce((sum, nodeRange) => sum + nodeRange.to - nodeRange.from, 0);\r\n    return range >= selectionRange;\r\n}\n\nconst lift = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const isActive = isNodeActive(state, type, attributes);\r\n    if (!isActive) {\r\n        return false;\r\n    }\r\n    return lift$1(state, dispatch);\r\n};\n\nconst liftEmptyBlock = () => ({ state, dispatch }) => {\r\n    return liftEmptyBlock$1(state, dispatch);\r\n};\n\nconst liftListItem = typeOrName => ({ state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    return liftListItem$1(type)(state, dispatch);\r\n};\n\nconst newlineInCode = () => ({ state, dispatch }) => {\r\n    return newlineInCode$1(state, dispatch);\r\n};\n\nfunction getSchemaTypeNameByName(name, schema) {\r\n    if (schema.nodes[name]) {\r\n        return 'node';\r\n    }\r\n    if (schema.marks[name]) {\r\n        return 'mark';\r\n    }\r\n    return null;\r\n}\n\n/**\r\n * Remove a property or an array of properties from an object\r\n * @param obj Object\r\n * @param key Key to remove\r\n */\r\nfunction deleteProps(obj, propOrProps) {\r\n    const props = typeof propOrProps === 'string'\r\n        ? [propOrProps]\r\n        : propOrProps;\r\n    return Object\r\n        .keys(obj)\r\n        .reduce((newObj, prop) => {\r\n        if (!props.includes(prop)) {\r\n            newObj[prop] = obj[prop];\r\n        }\r\n        return newObj;\r\n    }, {});\r\n}\n\nconst resetAttributes = (typeOrName, attributes) => ({ tr, state, dispatch }) => {\r\n    let nodeType = null;\r\n    let markType = null;\r\n    const schemaType = getSchemaTypeNameByName(typeof typeOrName === 'string' ? typeOrName : typeOrName.name, state.schema);\r\n    if (!schemaType) {\r\n        return false;\r\n    }\r\n    if (schemaType === 'node') {\r\n        nodeType = getNodeType(typeOrName, state.schema);\r\n    }\r\n    if (schemaType === 'mark') {\r\n        markType = getMarkType(typeOrName, state.schema);\r\n    }\r\n    if (dispatch) {\r\n        tr.selection.ranges.forEach(range => {\r\n            state.doc.nodesBetween(range.$from.pos, range.$to.pos, (node, pos) => {\r\n                if (nodeType && nodeType === node.type) {\r\n                    tr.setNodeMarkup(pos, undefined, deleteProps(node.attrs, attributes));\r\n                }\r\n                if (markType && node.marks.length) {\r\n                    node.marks.forEach(mark => {\r\n                        if (markType === mark.type) {\r\n                            tr.addMark(pos, pos + node.nodeSize, markType.create(deleteProps(mark.attrs, attributes)));\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n    return true;\r\n};\n\nconst scrollIntoView = () => ({ tr, dispatch }) => {\r\n    if (dispatch) {\r\n        tr.scrollIntoView();\r\n    }\r\n    return true;\r\n};\n\nconst selectAll = () => ({ tr, commands }) => {\r\n    return commands.setTextSelection({\r\n        from: 0,\r\n        to: tr.doc.content.size,\r\n    });\r\n};\n\nconst selectNodeBackward = () => ({ state, dispatch }) => {\r\n    return selectNodeBackward$1(state, dispatch);\r\n};\n\nconst selectNodeForward = () => ({ state, dispatch }) => {\r\n    return selectNodeForward$1(state, dispatch);\r\n};\n\nconst selectParentNode = () => ({ state, dispatch }) => {\r\n    return selectParentNode$1(state, dispatch);\r\n};\n\n// @ts-ignore\r\nconst selectTextblockEnd = () => ({ state, dispatch }) => {\r\n    return selectTextblockEnd$1(state, dispatch);\r\n};\n\n// @ts-ignore\r\nconst selectTextblockStart = () => ({ state, dispatch }) => {\r\n    return selectTextblockStart$1(state, dispatch);\r\n};\n\nfunction createDocument(content, schema, parseOptions = {}) {\r\n    return createNodeFromContent(content, schema, { slice: false, parseOptions });\r\n}\n\nconst setContent = (content, emitUpdate = false, parseOptions = {}) => ({ tr, editor, dispatch }) => {\r\n    const { doc } = tr;\r\n    const document = createDocument(content, editor.schema, parseOptions);\r\n    if (dispatch) {\r\n        tr.replaceWith(0, doc.content.size, document).setMeta('preventUpdate', !emitUpdate);\r\n    }\r\n    return true;\r\n};\n\nfunction getMarkAttributes(state, typeOrName) {\r\n    const type = getMarkType(typeOrName, state.schema);\r\n    const { from, to, empty } = state.selection;\r\n    const marks = [];\r\n    if (empty) {\r\n        if (state.storedMarks) {\r\n            marks.push(...state.storedMarks);\r\n        }\r\n        marks.push(...state.selection.$head.marks());\r\n    }\r\n    else {\r\n        state.doc.nodesBetween(from, to, node => {\r\n            marks.push(...node.marks);\r\n        });\r\n    }\r\n    const mark = marks.find(markItem => markItem.type.name === type.name);\r\n    if (!mark) {\r\n        return {};\r\n    }\r\n    return { ...mark.attrs };\r\n}\n\n/**\r\n * Returns a new `Transform` based on all steps of the passed transactions.\r\n */\r\nfunction combineTransactionSteps(oldDoc, transactions) {\r\n    const transform = new Transform(oldDoc);\r\n    transactions.forEach(transaction => {\r\n        transaction.steps.forEach(step => {\r\n            transform.step(step);\r\n        });\r\n    });\r\n    return transform;\r\n}\n\nfunction defaultBlockAt(match) {\r\n    for (let i = 0; i < match.edgeCount; i += 1) {\r\n        const { type } = match.edge(i);\r\n        if (type.isTextblock && !type.hasRequiredAttrs()) {\r\n            return type;\r\n        }\r\n    }\r\n    return null;\r\n}\n\nfunction findChildren(node, predicate) {\r\n    const nodesWithPos = [];\r\n    node.descendants((child, pos) => {\r\n        if (predicate(child)) {\r\n            nodesWithPos.push({\r\n                node: child,\r\n                pos,\r\n            });\r\n        }\r\n    });\r\n    return nodesWithPos;\r\n}\n\n/**\r\n * Same as `findChildren` but searches only within a `range`.\r\n */\r\nfunction findChildrenInRange(node, range, predicate) {\r\n    const nodesWithPos = [];\r\n    // if (range.from === range.to) {\r\n    //   const nodeAt = node.nodeAt(range.from)\r\n    //   if (nodeAt) {\r\n    //     nodesWithPos.push({\r\n    //       node: nodeAt,\r\n    //       pos: range.from,\r\n    //     })\r\n    //   }\r\n    // }\r\n    node.nodesBetween(range.from, range.to, (child, pos) => {\r\n        if (predicate(child)) {\r\n            nodesWithPos.push({\r\n                node: child,\r\n                pos,\r\n            });\r\n        }\r\n    });\r\n    return nodesWithPos;\r\n}\n\nfunction findParentNodeClosestToPos($pos, predicate) {\r\n    for (let i = $pos.depth; i > 0; i -= 1) {\r\n        const node = $pos.node(i);\r\n        if (predicate(node)) {\r\n            return {\r\n                pos: i > 0 ? $pos.before(i) : 0,\r\n                start: $pos.start(i),\r\n                depth: i,\r\n                node,\r\n            };\r\n        }\r\n    }\r\n}\n\nfunction findParentNode(predicate) {\r\n    return (selection) => findParentNodeClosestToPos(selection.$from, predicate);\r\n}\n\nfunction getHTMLFromFragment(fragment, schema) {\r\n    const documentFragment = DOMSerializer.fromSchema(schema).serializeFragment(fragment);\r\n    const temporaryDocument = document.implementation.createHTMLDocument();\r\n    const container = temporaryDocument.createElement('div');\r\n    container.appendChild(documentFragment);\r\n    return container.innerHTML;\r\n}\n\nfunction getSchema(extensions, editor) {\r\n    const resolvedExtensions = ExtensionManager.resolve(extensions);\r\n    return getSchemaByResolvedExtensions(resolvedExtensions, editor);\r\n}\n\nfunction generateHTML(doc, extensions) {\r\n    const schema = getSchema(extensions);\r\n    const contentNode = Node$1.fromJSON(schema, doc);\r\n    return getHTMLFromFragment(contentNode.content, schema);\r\n}\n\nfunction generateJSON(html, extensions) {\r\n    const schema = getSchema(extensions);\r\n    const dom = elementFromString(html);\r\n    return DOMParser.fromSchema(schema).parse(dom).toJSON();\r\n}\n\nfunction getText(node, options) {\r\n    const range = {\r\n        from: 0,\r\n        to: node.content.size,\r\n    };\r\n    return getTextBetween(node, range, options);\r\n}\n\nfunction generateText(doc, extensions, options) {\r\n    const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {};\r\n    const schema = getSchema(extensions);\r\n    const contentNode = Node$1.fromJSON(schema, doc);\r\n    return getText(contentNode, {\r\n        blockSeparator,\r\n        textSerializers: {\r\n            ...getTextSerializersFromSchema(schema),\r\n            ...textSerializers,\r\n        },\r\n    });\r\n}\n\nfunction getNodeAttributes(state, typeOrName) {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const { from, to } = state.selection;\r\n    const nodes = [];\r\n    state.doc.nodesBetween(from, to, node => {\r\n        nodes.push(node);\r\n    });\r\n    const node = nodes.reverse().find(nodeItem => nodeItem.type.name === type.name);\r\n    if (!node) {\r\n        return {};\r\n    }\r\n    return { ...node.attrs };\r\n}\n\nfunction getAttributes(state, typeOrName) {\r\n    const schemaType = getSchemaTypeNameByName(typeof typeOrName === 'string' ? typeOrName : typeOrName.name, state.schema);\r\n    if (schemaType === 'node') {\r\n        return getNodeAttributes(state, typeOrName);\r\n    }\r\n    if (schemaType === 'mark') {\r\n        return getMarkAttributes(state, typeOrName);\r\n    }\r\n    return {};\r\n}\n\n/**\r\n * Removes duplicated values within an array.\r\n * Supports numbers, strings and objects.\r\n */\r\nfunction removeDuplicates(array, by = JSON.stringify) {\r\n    const seen = {};\r\n    return array.filter(item => {\r\n        const key = by(item);\r\n        return Object.prototype.hasOwnProperty.call(seen, key)\r\n            ? false\r\n            : (seen[key] = true);\r\n    });\r\n}\n\n/**\r\n * Removes duplicated ranges and ranges that are\r\n * fully captured by other ranges.\r\n */\r\nfunction simplifyChangedRanges(changes) {\r\n    const uniqueChanges = removeDuplicates(changes);\r\n    return uniqueChanges.length === 1\r\n        ? uniqueChanges\r\n        : uniqueChanges.filter((change, index) => {\r\n            const rest = uniqueChanges.filter((_, i) => i !== index);\r\n            return !rest.some(otherChange => {\r\n                return change.oldRange.from >= otherChange.oldRange.from\r\n                    && change.oldRange.to <= otherChange.oldRange.to\r\n                    && change.newRange.from >= otherChange.newRange.from\r\n                    && change.newRange.to <= otherChange.newRange.to;\r\n            });\r\n        });\r\n}\r\n/**\r\n * Returns a list of changed ranges\r\n * based on the first and last state of all steps.\r\n */\r\nfunction getChangedRanges(transform) {\r\n    const { mapping, steps } = transform;\r\n    const changes = [];\r\n    mapping.maps.forEach((stepMap, index) => {\r\n        const ranges = [];\r\n        // This accounts for step changes where no range was actually altered\r\n        // e.g. when setting a mark, node attribute, etc.\r\n        // @ts-ignore\r\n        if (!stepMap.ranges.length) {\r\n            const { from, to } = steps[index];\r\n            if (from === undefined || to === undefined) {\r\n                return;\r\n            }\r\n            ranges.push({ from, to });\r\n        }\r\n        else {\r\n            stepMap.forEach((from, to) => {\r\n                ranges.push({ from, to });\r\n            });\r\n        }\r\n        ranges.forEach(({ from, to }) => {\r\n            const newStart = mapping.slice(index).map(from, -1);\r\n            const newEnd = mapping.slice(index).map(to);\r\n            const oldStart = mapping.invert().map(newStart, -1);\r\n            const oldEnd = mapping.invert().map(newEnd);\r\n            changes.push({\r\n                oldRange: {\r\n                    from: oldStart,\r\n                    to: oldEnd,\r\n                },\r\n                newRange: {\r\n                    from: newStart,\r\n                    to: newEnd,\r\n                },\r\n            });\r\n        });\r\n    });\r\n    return simplifyChangedRanges(changes);\r\n}\n\nfunction getDebugJSON(node, startOffset = 0) {\r\n    const isTopNode = node.type === node.type.schema.topNodeType;\r\n    const increment = isTopNode ? 0 : 1;\r\n    const from = startOffset;\r\n    const to = from + node.nodeSize;\r\n    const marks = node.marks.map(mark => {\r\n        const output = {\r\n            type: mark.type.name,\r\n        };\r\n        if (Object.keys(mark.attrs).length) {\r\n            output.attrs = { ...mark.attrs };\r\n        }\r\n        return output;\r\n    });\r\n    const attrs = { ...node.attrs };\r\n    const output = {\r\n        type: node.type.name,\r\n        from,\r\n        to,\r\n    };\r\n    if (Object.keys(attrs).length) {\r\n        output.attrs = attrs;\r\n    }\r\n    if (marks.length) {\r\n        output.marks = marks;\r\n    }\r\n    if (node.content.childCount) {\r\n        output.content = [];\r\n        node.forEach((child, offset) => {\r\n            var _a;\r\n            (_a = output.content) === null || _a === void 0 ? void 0 : _a.push(getDebugJSON(child, startOffset + offset + increment));\r\n        });\r\n    }\r\n    if (node.text) {\r\n        output.text = node.text;\r\n    }\r\n    return output;\r\n}\n\nfunction getMarksBetween(from, to, doc) {\r\n    const marks = [];\r\n    // get all inclusive marks on empty selection\r\n    if (from === to) {\r\n        doc\r\n            .resolve(from)\r\n            .marks()\r\n            .forEach(mark => {\r\n            const $pos = doc.resolve(from - 1);\r\n            const range = getMarkRange($pos, mark.type);\r\n            if (!range) {\r\n                return;\r\n            }\r\n            marks.push({\r\n                mark,\r\n                ...range,\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        doc.nodesBetween(from, to, (node, pos) => {\r\n            marks.push(...node.marks.map(mark => ({\r\n                from: pos,\r\n                to: pos + node.nodeSize,\r\n                mark,\r\n            })));\r\n        });\r\n    }\r\n    return marks;\r\n}\n\n/**\r\n * Finds the first node of a given type or name in the current selection.\r\n * @param state The editor state.\r\n * @param typeOrName The node type or name.\r\n * @param pos The position to start searching from.\r\n * @param maxDepth The maximum depth to search.\r\n * @returns The node and the depth as an array.\r\n */\r\nconst getNodeAtPosition = (state, typeOrName, pos, maxDepth = 20) => {\r\n    const $pos = state.doc.resolve(pos);\r\n    let currentDepth = maxDepth;\r\n    let node = null;\r\n    while (currentDepth > 0 && node === null) {\r\n        const currentNode = $pos.node(currentDepth);\r\n        if ((currentNode === null || currentNode === void 0 ? void 0 : currentNode.type.name) === typeOrName) {\r\n            node = currentNode;\r\n        }\r\n        else {\r\n            currentDepth -= 1;\r\n        }\r\n    }\r\n    return [node, currentDepth];\r\n};\n\nfunction getSplittedAttributes(extensionAttributes, typeName, attributes) {\r\n    return Object.fromEntries(Object\r\n        .entries(attributes)\r\n        .filter(([name]) => {\r\n        const extensionAttribute = extensionAttributes.find(item => {\r\n            return item.type === typeName && item.name === name;\r\n        });\r\n        if (!extensionAttribute) {\r\n            return false;\r\n        }\r\n        return extensionAttribute.attribute.keepOnSplit;\r\n    }));\r\n}\n\nfunction isMarkActive(state, typeOrName, attributes = {}) {\r\n    const { empty, ranges } = state.selection;\r\n    const type = typeOrName ? getMarkType(typeOrName, state.schema) : null;\r\n    if (empty) {\r\n        return !!(state.storedMarks || state.selection.$from.marks())\r\n            .filter(mark => {\r\n            if (!type) {\r\n                return true;\r\n            }\r\n            return type.name === mark.type.name;\r\n        })\r\n            .find(mark => objectIncludes(mark.attrs, attributes, { strict: false }));\r\n    }\r\n    let selectionRange = 0;\r\n    const markRanges = [];\r\n    ranges.forEach(({ $from, $to }) => {\r\n        const from = $from.pos;\r\n        const to = $to.pos;\r\n        state.doc.nodesBetween(from, to, (node, pos) => {\r\n            if (!node.isText && !node.marks.length) {\r\n                return;\r\n            }\r\n            const relativeFrom = Math.max(from, pos);\r\n            const relativeTo = Math.min(to, pos + node.nodeSize);\r\n            const range = relativeTo - relativeFrom;\r\n            selectionRange += range;\r\n            markRanges.push(...node.marks.map(mark => ({\r\n                mark,\r\n                from: relativeFrom,\r\n                to: relativeTo,\r\n            })));\r\n        });\r\n    });\r\n    if (selectionRange === 0) {\r\n        return false;\r\n    }\r\n    // calculate range of matched mark\r\n    const matchedRange = markRanges\r\n        .filter(markRange => {\r\n        if (!type) {\r\n            return true;\r\n        }\r\n        return type.name === markRange.mark.type.name;\r\n    })\r\n        .filter(markRange => objectIncludes(markRange.mark.attrs, attributes, { strict: false }))\r\n        .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0);\r\n    // calculate range of marks that excludes the searched mark\r\n    // for example `code` doesn’t allow any other marks\r\n    const excludedRange = markRanges\r\n        .filter(markRange => {\r\n        if (!type) {\r\n            return true;\r\n        }\r\n        return markRange.mark.type !== type && markRange.mark.type.excludes(type);\r\n    })\r\n        .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0);\r\n    // we only include the result of `excludedRange`\r\n    // if there is a match at all\r\n    const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange;\r\n    return range >= selectionRange;\r\n}\n\nfunction isActive(state, name, attributes = {}) {\r\n    if (!name) {\r\n        return isNodeActive(state, null, attributes) || isMarkActive(state, null, attributes);\r\n    }\r\n    const schemaType = getSchemaTypeNameByName(name, state.schema);\r\n    if (schemaType === 'node') {\r\n        return isNodeActive(state, name, attributes);\r\n    }\r\n    if (schemaType === 'mark') {\r\n        return isMarkActive(state, name, attributes);\r\n    }\r\n    return false;\r\n}\n\nconst isAtEndOfNode = (state, nodeType) => {\r\n    const { $from, $to, $anchor } = state.selection;\r\n    if (nodeType) {\r\n        const parentNode = findParentNode(node => node.type.name === nodeType)(state.selection);\r\n        if (!parentNode) {\r\n            return false;\r\n        }\r\n        const $parentPos = state.doc.resolve(parentNode.pos + 1);\r\n        if ($anchor.pos + 1 === $parentPos.end()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    if ($to.parentOffset < $to.parent.nodeSize - 2 || $from.pos !== $to.pos) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\n\nconst isAtStartOfNode = (state) => {\r\n    const { $from, $to } = state.selection;\r\n    if ($from.parentOffset > 0 || $from.pos !== $to.pos) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\n\nfunction isList(name, extensions) {\r\n    const { nodeExtensions } = splitExtensions(extensions);\r\n    const extension = nodeExtensions.find(item => item.name === name);\r\n    if (!extension) {\r\n        return false;\r\n    }\r\n    const context = {\r\n        name: extension.name,\r\n        options: extension.options,\r\n        storage: extension.storage,\r\n    };\r\n    const group = callOrReturn(getExtensionField(extension, 'group', context));\r\n    if (typeof group !== 'string') {\r\n        return false;\r\n    }\r\n    return group.split(' ').includes('list');\r\n}\n\nfunction isNodeEmpty(node) {\r\n    var _a;\r\n    const defaultContent = (_a = node.type.createAndFill()) === null || _a === void 0 ? void 0 : _a.toJSON();\r\n    const content = node.toJSON();\r\n    return JSON.stringify(defaultContent) === JSON.stringify(content);\r\n}\n\nfunction isNodeSelection(value) {\r\n    return value instanceof NodeSelection;\r\n}\n\nfunction posToDOMRect(view, from, to) {\r\n    const minPos = 0;\r\n    const maxPos = view.state.doc.content.size;\r\n    const resolvedFrom = minMax(from, minPos, maxPos);\r\n    const resolvedEnd = minMax(to, minPos, maxPos);\r\n    const start = view.coordsAtPos(resolvedFrom);\r\n    const end = view.coordsAtPos(resolvedEnd, -1);\r\n    const top = Math.min(start.top, end.top);\r\n    const bottom = Math.max(start.bottom, end.bottom);\r\n    const left = Math.min(start.left, end.left);\r\n    const right = Math.max(start.right, end.right);\r\n    const width = right - left;\r\n    const height = bottom - top;\r\n    const x = left;\r\n    const y = top;\r\n    const data = {\r\n        top,\r\n        bottom,\r\n        left,\r\n        right,\r\n        width,\r\n        height,\r\n        x,\r\n        y,\r\n    };\r\n    return {\r\n        ...data,\r\n        toJSON: () => data,\r\n    };\r\n}\n\nfunction canSetMark(state, tr, newMarkType) {\r\n    var _a;\r\n    const { selection } = tr;\r\n    let cursor = null;\r\n    if (isTextSelection(selection)) {\r\n        cursor = selection.$cursor;\r\n    }\r\n    if (cursor) {\r\n        const currentMarks = (_a = state.storedMarks) !== null && _a !== void 0 ? _a : cursor.marks();\r\n        // There can be no current marks that exclude the new mark\r\n        return (!!newMarkType.isInSet(currentMarks)\r\n            || !currentMarks.some(mark => mark.type.excludes(newMarkType)));\r\n    }\r\n    const { ranges } = selection;\r\n    return ranges.some(({ $from, $to }) => {\r\n        let someNodeSupportsMark = $from.depth === 0\r\n            ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType)\r\n            : false;\r\n        state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent) => {\r\n            // If we already found a mark that we can enable, return false to bypass the remaining search\r\n            if (someNodeSupportsMark) {\r\n                return false;\r\n            }\r\n            if (node.isInline) {\r\n                const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType);\r\n                const currentMarksAllowMarkType = !!newMarkType.isInSet(node.marks)\r\n                    || !node.marks.some(otherMark => otherMark.type.excludes(newMarkType));\r\n                someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType;\r\n            }\r\n            return !someNodeSupportsMark;\r\n        });\r\n        return someNodeSupportsMark;\r\n    });\r\n}\r\nconst setMark = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\r\n    const { selection } = tr;\r\n    const { empty, ranges } = selection;\r\n    const type = getMarkType(typeOrName, state.schema);\r\n    if (dispatch) {\r\n        if (empty) {\r\n            const oldAttributes = getMarkAttributes(state, type);\r\n            tr.addStoredMark(type.create({\r\n                ...oldAttributes,\r\n                ...attributes,\r\n            }));\r\n        }\r\n        else {\r\n            ranges.forEach(range => {\r\n                const from = range.$from.pos;\r\n                const to = range.$to.pos;\r\n                state.doc.nodesBetween(from, to, (node, pos) => {\r\n                    const trimmedFrom = Math.max(pos, from);\r\n                    const trimmedTo = Math.min(pos + node.nodeSize, to);\r\n                    const someHasMark = node.marks.find(mark => mark.type === type);\r\n                    // if there is already a mark of this type\r\n                    // we know that we have to merge its attributes\r\n                    // otherwise we add a fresh new mark\r\n                    if (someHasMark) {\r\n                        node.marks.forEach(mark => {\r\n                            if (type === mark.type) {\r\n                                tr.addMark(trimmedFrom, trimmedTo, type.create({\r\n                                    ...mark.attrs,\r\n                                    ...attributes,\r\n                                }));\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        tr.addMark(trimmedFrom, trimmedTo, type.create(attributes));\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n    return canSetMark(state, tr, type);\r\n};\n\nconst setMeta = (key, value) => ({ tr }) => {\r\n    tr.setMeta(key, value);\r\n    return true;\r\n};\n\nconst setNode = (typeOrName, attributes = {}) => ({ state, dispatch, chain }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    // TODO: use a fallback like insertContent?\r\n    if (!type.isTextblock) {\r\n        console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.');\r\n        return false;\r\n    }\r\n    return (chain()\r\n        // try to convert node to default node if needed\r\n        .command(({ commands }) => {\r\n        const canSetBlock = setBlockType(type, attributes)(state);\r\n        if (canSetBlock) {\r\n            return true;\r\n        }\r\n        return commands.clearNodes();\r\n    })\r\n        .command(({ state: updatedState }) => {\r\n        return setBlockType(type, attributes)(updatedState, dispatch);\r\n    })\r\n        .run());\r\n};\n\nconst setNodeSelection = position => ({ tr, dispatch }) => {\r\n    if (dispatch) {\r\n        const { doc } = tr;\r\n        const from = minMax(position, 0, doc.content.size);\r\n        const selection = NodeSelection.create(doc, from);\r\n        tr.setSelection(selection);\r\n    }\r\n    return true;\r\n};\n\nconst setTextSelection = position => ({ tr, dispatch }) => {\r\n    if (dispatch) {\r\n        const { doc } = tr;\r\n        const { from, to } = typeof position === 'number' ? { from: position, to: position } : position;\r\n        const minPos = TextSelection.atStart(doc).from;\r\n        const maxPos = TextSelection.atEnd(doc).to;\r\n        const resolvedFrom = minMax(from, minPos, maxPos);\r\n        const resolvedEnd = minMax(to, minPos, maxPos);\r\n        const selection = TextSelection.create(doc, resolvedFrom, resolvedEnd);\r\n        tr.setSelection(selection);\r\n    }\r\n    return true;\r\n};\n\nconst sinkListItem = typeOrName => ({ state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    return sinkListItem$1(type)(state, dispatch);\r\n};\n\nfunction ensureMarks(state, splittableMarks) {\r\n    const marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\r\n    if (marks) {\r\n        const filteredMarks = marks.filter(mark => splittableMarks === null || splittableMarks === void 0 ? void 0 : splittableMarks.includes(mark.type.name));\r\n        state.tr.ensureMarks(filteredMarks);\r\n    }\r\n}\r\nconst splitBlock = ({ keepMarks = true } = {}) => ({ tr, state, dispatch, editor, }) => {\r\n    const { selection, doc } = tr;\r\n    const { $from, $to } = selection;\r\n    const extensionAttributes = editor.extensionManager.attributes;\r\n    const newAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\r\n    if (selection instanceof NodeSelection && selection.node.isBlock) {\r\n        if (!$from.parentOffset || !canSplit(doc, $from.pos)) {\r\n            return false;\r\n        }\r\n        if (dispatch) {\r\n            if (keepMarks) {\r\n                ensureMarks(state, editor.extensionManager.splittableMarks);\r\n            }\r\n            tr.split($from.pos).scrollIntoView();\r\n        }\r\n        return true;\r\n    }\r\n    if (!$from.parent.isBlock) {\r\n        return false;\r\n    }\r\n    if (dispatch) {\r\n        const atEnd = $to.parentOffset === $to.parent.content.size;\r\n        if (selection instanceof TextSelection) {\r\n            tr.deleteSelection();\r\n        }\r\n        const deflt = $from.depth === 0\r\n            ? undefined\r\n            : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\r\n        let types = atEnd && deflt\r\n            ? [\r\n                {\r\n                    type: deflt,\r\n                    attrs: newAttributes,\r\n                },\r\n            ]\r\n            : undefined;\r\n        let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types);\r\n        if (!types\r\n            && !can\r\n            && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : undefined)) {\r\n            can = true;\r\n            types = deflt\r\n                ? [\r\n                    {\r\n                        type: deflt,\r\n                        attrs: newAttributes,\r\n                    },\r\n                ]\r\n                : undefined;\r\n        }\r\n        if (can) {\r\n            tr.split(tr.mapping.map($from.pos), 1, types);\r\n            if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\r\n                const first = tr.mapping.map($from.before());\r\n                const $first = tr.doc.resolve(first);\r\n                if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\r\n                    tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\r\n                }\r\n            }\r\n        }\r\n        if (keepMarks) {\r\n            ensureMarks(state, editor.extensionManager.splittableMarks);\r\n        }\r\n        tr.scrollIntoView();\r\n    }\r\n    return true;\r\n};\n\nconst splitListItem = typeOrName => ({ tr, state, dispatch, editor, }) => {\r\n    var _a;\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const { $from, $to } = state.selection;\r\n    // @ts-ignore\r\n    // eslint-disable-next-line\r\n    const node = state.selection.node;\r\n    if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to)) {\r\n        return false;\r\n    }\r\n    const grandParent = $from.node(-1);\r\n    if (grandParent.type !== type) {\r\n        return false;\r\n    }\r\n    const extensionAttributes = editor.extensionManager.attributes;\r\n    if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\r\n        // In an empty block. If this is a nested list, the wrapping\r\n        // list item should be split. Otherwise, bail out and let next\r\n        // command handle lifting.\r\n        if ($from.depth === 2\r\n            || $from.node(-3).type !== type\r\n            || $from.index(-2) !== $from.node(-2).childCount - 1) {\r\n            return false;\r\n        }\r\n        if (dispatch) {\r\n            let wrap = Fragment.empty;\r\n            // eslint-disable-next-line\r\n            const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\r\n            // Build a fragment containing empty versions of the structure\r\n            // from the outer list item to the parent node of the cursor\r\n            for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1) {\r\n                wrap = Fragment.from($from.node(d).copy(wrap));\r\n            }\r\n            // eslint-disable-next-line\r\n            const depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\r\n            // Add a second list item with an empty default start node\r\n            const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\r\n            const nextType = ((_a = type.contentMatch.defaultType) === null || _a === void 0 ? void 0 : _a.createAndFill(newNextTypeAttributes)) || undefined;\r\n            wrap = wrap.append(Fragment.from(type.createAndFill(null, nextType) || undefined));\r\n            const start = $from.before($from.depth - (depthBefore - 1));\r\n            tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0));\r\n            let sel = -1;\r\n            tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos) => {\r\n                if (sel > -1) {\r\n                    return false;\r\n                }\r\n                if (n.isTextblock && n.content.size === 0) {\r\n                    sel = pos + 1;\r\n                }\r\n            });\r\n            if (sel > -1) {\r\n                tr.setSelection(TextSelection.near(tr.doc.resolve(sel)));\r\n            }\r\n            tr.scrollIntoView();\r\n        }\r\n        return true;\r\n    }\r\n    const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\r\n    const newTypeAttributes = getSplittedAttributes(extensionAttributes, grandParent.type.name, grandParent.attrs);\r\n    const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\r\n    tr.delete($from.pos, $to.pos);\r\n    const types = nextType\r\n        ? [\r\n            { type, attrs: newTypeAttributes },\r\n            { type: nextType, attrs: newNextTypeAttributes },\r\n        ]\r\n        : [{ type, attrs: newTypeAttributes }];\r\n    if (!canSplit(tr.doc, $from.pos, 2)) {\r\n        return false;\r\n    }\r\n    if (dispatch) {\r\n        const { selection, storedMarks } = state;\r\n        const { splittableMarks } = editor.extensionManager;\r\n        const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks());\r\n        tr.split($from.pos, 2, types).scrollIntoView();\r\n        if (!marks || !dispatch) {\r\n            return true;\r\n        }\r\n        const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name));\r\n        tr.ensureMarks(filteredMarks);\r\n    }\r\n    return true;\r\n};\n\nconst joinListBackwards = (tr, listType) => {\r\n    const list = findParentNode(node => node.type === listType)(tr.selection);\r\n    if (!list) {\r\n        return true;\r\n    }\r\n    const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth);\r\n    if (before === undefined) {\r\n        return true;\r\n    }\r\n    const nodeBefore = tr.doc.nodeAt(before);\r\n    const canJoinBackwards = list.node.type === (nodeBefore === null || nodeBefore === void 0 ? void 0 : nodeBefore.type) && canJoin(tr.doc, list.pos);\r\n    if (!canJoinBackwards) {\r\n        return true;\r\n    }\r\n    tr.join(list.pos);\r\n    return true;\r\n};\r\nconst joinListForwards = (tr, listType) => {\r\n    const list = findParentNode(node => node.type === listType)(tr.selection);\r\n    if (!list) {\r\n        return true;\r\n    }\r\n    const after = tr.doc.resolve(list.start).after(list.depth);\r\n    if (after === undefined) {\r\n        return true;\r\n    }\r\n    const nodeAfter = tr.doc.nodeAt(after);\r\n    const canJoinForwards = list.node.type === (nodeAfter === null || nodeAfter === void 0 ? void 0 : nodeAfter.type) && canJoin(tr.doc, after);\r\n    if (!canJoinForwards) {\r\n        return true;\r\n    }\r\n    tr.join(after);\r\n    return true;\r\n};\r\nconst toggleList = (listTypeOrName, itemTypeOrName, keepMarks, attributes = {}) => ({ editor, tr, state, dispatch, chain, commands, can, }) => {\r\n    const { extensions, splittableMarks } = editor.extensionManager;\r\n    const listType = getNodeType(listTypeOrName, state.schema);\r\n    const itemType = getNodeType(itemTypeOrName, state.schema);\r\n    const { selection, storedMarks } = state;\r\n    const { $from, $to } = selection;\r\n    const range = $from.blockRange($to);\r\n    const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks());\r\n    if (!range) {\r\n        return false;\r\n    }\r\n    const parentList = findParentNode(node => isList(node.type.name, extensions))(selection);\r\n    if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\r\n        // remove list\r\n        if (parentList.node.type === listType) {\r\n            return commands.liftListItem(itemType);\r\n        }\r\n        // change list type\r\n        if (isList(parentList.node.type.name, extensions)\r\n            && listType.validContent(parentList.node.content)\r\n            && dispatch) {\r\n            return chain()\r\n                .command(() => {\r\n                tr.setNodeMarkup(parentList.pos, listType);\r\n                return true;\r\n            })\r\n                .command(() => joinListBackwards(tr, listType))\r\n                .command(() => joinListForwards(tr, listType))\r\n                .run();\r\n        }\r\n    }\r\n    if (!keepMarks || !marks || !dispatch) {\r\n        return chain()\r\n            // try to convert node to default node if needed\r\n            .command(() => {\r\n            const canWrapInList = can().wrapInList(listType, attributes);\r\n            if (canWrapInList) {\r\n                return true;\r\n            }\r\n            return commands.clearNodes();\r\n        })\r\n            .wrapInList(listType, attributes)\r\n            .command(() => joinListBackwards(tr, listType))\r\n            .command(() => joinListForwards(tr, listType))\r\n            .run();\r\n    }\r\n    return (chain()\r\n        // try to convert node to default node if needed\r\n        .command(() => {\r\n        const canWrapInList = can().wrapInList(listType, attributes);\r\n        const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name));\r\n        tr.ensureMarks(filteredMarks);\r\n        if (canWrapInList) {\r\n            return true;\r\n        }\r\n        return commands.clearNodes();\r\n    })\r\n        .wrapInList(listType, attributes)\r\n        .command(() => joinListBackwards(tr, listType))\r\n        .command(() => joinListForwards(tr, listType))\r\n        .run());\r\n};\n\nconst toggleMark = (typeOrName, attributes = {}, options = {}) => ({ state, commands }) => {\r\n    const { extendEmptyMarkRange = false } = options;\r\n    const type = getMarkType(typeOrName, state.schema);\r\n    const isActive = isMarkActive(state, type, attributes);\r\n    if (isActive) {\r\n        return commands.unsetMark(type, { extendEmptyMarkRange });\r\n    }\r\n    return commands.setMark(type, attributes);\r\n};\n\nconst toggleNode = (typeOrName, toggleTypeOrName, attributes = {}) => ({ state, commands }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const toggleType = getNodeType(toggleTypeOrName, state.schema);\r\n    const isActive = isNodeActive(state, type, attributes);\r\n    if (isActive) {\r\n        return commands.setNode(toggleType);\r\n    }\r\n    return commands.setNode(type, attributes);\r\n};\n\nconst toggleWrap = (typeOrName, attributes = {}) => ({ state, commands }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    const isActive = isNodeActive(state, type, attributes);\r\n    if (isActive) {\r\n        return commands.lift(type);\r\n    }\r\n    return commands.wrapIn(type, attributes);\r\n};\n\nconst undoInputRule = () => ({ state, dispatch }) => {\r\n    const plugins = state.plugins;\r\n    for (let i = 0; i < plugins.length; i += 1) {\r\n        const plugin = plugins[i];\r\n        let undoable;\r\n        // @ts-ignore\r\n        // eslint-disable-next-line\r\n        if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\r\n            if (dispatch) {\r\n                const tr = state.tr;\r\n                const toUndo = undoable.transform;\r\n                for (let j = toUndo.steps.length - 1; j >= 0; j -= 1) {\r\n                    tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\r\n                }\r\n                if (undoable.text) {\r\n                    const marks = tr.doc.resolve(undoable.from).marks();\r\n                    tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\r\n                }\r\n                else {\r\n                    tr.delete(undoable.from, undoable.to);\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nconst unsetAllMarks = () => ({ tr, dispatch }) => {\r\n    const { selection } = tr;\r\n    const { empty, ranges } = selection;\r\n    if (empty) {\r\n        return true;\r\n    }\r\n    if (dispatch) {\r\n        ranges.forEach(range => {\r\n            tr.removeMark(range.$from.pos, range.$to.pos);\r\n        });\r\n    }\r\n    return true;\r\n};\n\nconst unsetMark = (typeOrName, options = {}) => ({ tr, state, dispatch }) => {\r\n    var _a;\r\n    const { extendEmptyMarkRange = false } = options;\r\n    const { selection } = tr;\r\n    const type = getMarkType(typeOrName, state.schema);\r\n    const { $from, empty, ranges } = selection;\r\n    if (!dispatch) {\r\n        return true;\r\n    }\r\n    if (empty && extendEmptyMarkRange) {\r\n        let { from, to } = selection;\r\n        const attrs = (_a = $from.marks().find(mark => mark.type === type)) === null || _a === void 0 ? void 0 : _a.attrs;\r\n        const range = getMarkRange($from, type, attrs);\r\n        if (range) {\r\n            from = range.from;\r\n            to = range.to;\r\n        }\r\n        tr.removeMark(from, to, type);\r\n    }\r\n    else {\r\n        ranges.forEach(range => {\r\n            tr.removeMark(range.$from.pos, range.$to.pos, type);\r\n        });\r\n    }\r\n    tr.removeStoredMark(type);\r\n    return true;\r\n};\n\nconst updateAttributes = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\r\n    let nodeType = null;\r\n    let markType = null;\r\n    const schemaType = getSchemaTypeNameByName(typeof typeOrName === 'string' ? typeOrName : typeOrName.name, state.schema);\r\n    if (!schemaType) {\r\n        return false;\r\n    }\r\n    if (schemaType === 'node') {\r\n        nodeType = getNodeType(typeOrName, state.schema);\r\n    }\r\n    if (schemaType === 'mark') {\r\n        markType = getMarkType(typeOrName, state.schema);\r\n    }\r\n    if (dispatch) {\r\n        tr.selection.ranges.forEach(range => {\r\n            const from = range.$from.pos;\r\n            const to = range.$to.pos;\r\n            state.doc.nodesBetween(from, to, (node, pos) => {\r\n                if (nodeType && nodeType === node.type) {\r\n                    tr.setNodeMarkup(pos, undefined, {\r\n                        ...node.attrs,\r\n                        ...attributes,\r\n                    });\r\n                }\r\n                if (markType && node.marks.length) {\r\n                    node.marks.forEach(mark => {\r\n                        if (markType === mark.type) {\r\n                            const trimmedFrom = Math.max(pos, from);\r\n                            const trimmedTo = Math.min(pos + node.nodeSize, to);\r\n                            tr.addMark(trimmedFrom, trimmedTo, markType.create({\r\n                                ...mark.attrs,\r\n                                ...attributes,\r\n                            }));\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n    return true;\r\n};\n\nconst wrapIn = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    return wrapIn$1(type, attributes)(state, dispatch);\r\n};\n\nconst wrapInList = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\r\n    const type = getNodeType(typeOrName, state.schema);\r\n    return wrapInList$1(type, attributes)(state, dispatch);\r\n};\n\nvar commands = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  blur: blur,\n  clearContent: clearContent,\n  clearNodes: clearNodes,\n  command: command,\n  createParagraphNear: createParagraphNear,\n  cut: cut,\n  deleteCurrentNode: deleteCurrentNode,\n  deleteNode: deleteNode,\n  deleteRange: deleteRange,\n  deleteSelection: deleteSelection,\n  enter: enter,\n  exitCode: exitCode,\n  extendMarkRange: extendMarkRange,\n  first: first,\n  focus: focus,\n  forEach: forEach,\n  insertContent: insertContent,\n  insertContentAt: insertContentAt,\n  joinUp: joinUp,\n  joinDown: joinDown,\n  joinBackward: joinBackward,\n  joinForward: joinForward,\n  joinItemBackward: joinItemBackward,\n  joinItemForward: joinItemForward,\n  keyboardShortcut: keyboardShortcut,\n  lift: lift,\n  liftEmptyBlock: liftEmptyBlock,\n  liftListItem: liftListItem,\n  newlineInCode: newlineInCode,\n  resetAttributes: resetAttributes,\n  scrollIntoView: scrollIntoView,\n  selectAll: selectAll,\n  selectNodeBackward: selectNodeBackward,\n  selectNodeForward: selectNodeForward,\n  selectParentNode: selectParentNode,\n  selectTextblockEnd: selectTextblockEnd,\n  selectTextblockStart: selectTextblockStart,\n  setContent: setContent,\n  setMark: setMark,\n  setMeta: setMeta,\n  setNode: setNode,\n  setNodeSelection: setNodeSelection,\n  setTextSelection: setTextSelection,\n  sinkListItem: sinkListItem,\n  splitBlock: splitBlock,\n  splitListItem: splitListItem,\n  toggleList: toggleList,\n  toggleMark: toggleMark,\n  toggleNode: toggleNode,\n  toggleWrap: toggleWrap,\n  undoInputRule: undoInputRule,\n  unsetAllMarks: unsetAllMarks,\n  unsetMark: unsetMark,\n  updateAttributes: updateAttributes,\n  wrapIn: wrapIn,\n  wrapInList: wrapInList\n});\n\nconst Commands = Extension.create({\r\n    name: 'commands',\r\n    addCommands() {\r\n        return {\r\n            ...commands,\r\n        };\r\n    },\r\n});\n\nconst Editable = Extension.create({\r\n    name: 'editable',\r\n    addProseMirrorPlugins() {\r\n        return [\r\n            new Plugin({\r\n                key: new PluginKey('editable'),\r\n                props: {\r\n                    editable: () => this.editor.options.editable,\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nconst FocusEvents = Extension.create({\r\n    name: 'focusEvents',\r\n    addProseMirrorPlugins() {\r\n        const { editor } = this;\r\n        return [\r\n            new Plugin({\r\n                key: new PluginKey('focusEvents'),\r\n                props: {\r\n                    handleDOMEvents: {\r\n                        focus: (view, event) => {\r\n                            editor.isFocused = true;\r\n                            const transaction = editor.state.tr\r\n                                .setMeta('focus', { event })\r\n                                .setMeta('addToHistory', false);\r\n                            view.dispatch(transaction);\r\n                            return false;\r\n                        },\r\n                        blur: (view, event) => {\r\n                            editor.isFocused = false;\r\n                            const transaction = editor.state.tr\r\n                                .setMeta('blur', { event })\r\n                                .setMeta('addToHistory', false);\r\n                            view.dispatch(transaction);\r\n                            return false;\r\n                        },\r\n                    },\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nconst Keymap = Extension.create({\r\n    name: 'keymap',\r\n    addKeyboardShortcuts() {\r\n        const handleBackspace = () => this.editor.commands.first(({ commands }) => [\r\n            () => commands.undoInputRule(),\r\n            // maybe convert first text block node to default node\r\n            () => commands.command(({ tr }) => {\r\n                const { selection, doc } = tr;\r\n                const { empty, $anchor } = selection;\r\n                const { pos, parent } = $anchor;\r\n                const $parentPos = $anchor.parent.isTextblock ? tr.doc.resolve(pos - 1) : $anchor;\r\n                const parentIsIsolating = $parentPos.parent.type.spec.isolating;\r\n                const parentPos = $anchor.pos - $anchor.parentOffset;\r\n                const isAtStart = (parentIsIsolating && $parentPos.parent.childCount === 1)\r\n                    ? parentPos === $anchor.pos\r\n                    : Selection.atStart(doc).from === pos;\r\n                if (!empty || !isAtStart || !parent.type.isTextblock || parent.textContent.length) {\r\n                    return false;\r\n                }\r\n                return commands.clearNodes();\r\n            }),\r\n            () => commands.deleteSelection(),\r\n            () => commands.joinBackward(),\r\n            () => commands.selectNodeBackward(),\r\n        ]);\r\n        const handleDelete = () => this.editor.commands.first(({ commands }) => [\r\n            () => commands.deleteSelection(),\r\n            () => commands.deleteCurrentNode(),\r\n            () => commands.joinForward(),\r\n            () => commands.selectNodeForward(),\r\n        ]);\r\n        const handleEnter = () => this.editor.commands.first(({ commands }) => [\r\n            () => commands.newlineInCode(),\r\n            () => commands.createParagraphNear(),\r\n            () => commands.liftEmptyBlock(),\r\n            () => commands.splitBlock(),\r\n        ]);\r\n        const baseKeymap = {\r\n            Enter: handleEnter,\r\n            'Mod-Enter': () => this.editor.commands.exitCode(),\r\n            Backspace: handleBackspace,\r\n            'Mod-Backspace': handleBackspace,\r\n            'Shift-Backspace': handleBackspace,\r\n            Delete: handleDelete,\r\n            'Mod-Delete': handleDelete,\r\n            'Mod-a': () => this.editor.commands.selectAll(),\r\n        };\r\n        const pcKeymap = {\r\n            ...baseKeymap,\r\n        };\r\n        const macKeymap = {\r\n            ...baseKeymap,\r\n            'Ctrl-h': handleBackspace,\r\n            'Alt-Backspace': handleBackspace,\r\n            'Ctrl-d': handleDelete,\r\n            'Ctrl-Alt-Backspace': handleDelete,\r\n            'Alt-Delete': handleDelete,\r\n            'Alt-d': handleDelete,\r\n            'Ctrl-a': () => this.editor.commands.selectTextblockStart(),\r\n            'Ctrl-e': () => this.editor.commands.selectTextblockEnd(),\r\n        };\r\n        if (isiOS() || isMacOS()) {\r\n            return macKeymap;\r\n        }\r\n        return pcKeymap;\r\n    },\r\n    addProseMirrorPlugins() {\r\n        return [\r\n            // With this plugin we check if the whole document was selected and deleted.\r\n            // In this case we will additionally call `clearNodes()` to convert e.g. a heading\r\n            // to a paragraph if necessary.\r\n            // This is an alternative to ProseMirror's `AllSelection`, which doesn’t work well\r\n            // with many other commands.\r\n            new Plugin({\r\n                key: new PluginKey('clearDocument'),\r\n                appendTransaction: (transactions, oldState, newState) => {\r\n                    const docChanges = transactions.some(transaction => transaction.docChanged)\r\n                        && !oldState.doc.eq(newState.doc);\r\n                    if (!docChanges) {\r\n                        return;\r\n                    }\r\n                    const { empty, from, to } = oldState.selection;\r\n                    const allFrom = Selection.atStart(oldState.doc).from;\r\n                    const allEnd = Selection.atEnd(oldState.doc).to;\r\n                    const allWasSelected = from === allFrom && to === allEnd;\r\n                    if (empty || !allWasSelected) {\r\n                        return;\r\n                    }\r\n                    const isEmpty = newState.doc.textBetween(0, newState.doc.content.size, ' ', ' ').length === 0;\r\n                    if (!isEmpty) {\r\n                        return;\r\n                    }\r\n                    const tr = newState.tr;\r\n                    const state = createChainableState({\r\n                        state: newState,\r\n                        transaction: tr,\r\n                    });\r\n                    const { commands } = new CommandManager({\r\n                        editor: this.editor,\r\n                        state,\r\n                    });\r\n                    commands.clearNodes();\r\n                    if (!tr.steps.length) {\r\n                        return;\r\n                    }\r\n                    return tr;\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nconst Tabindex = Extension.create({\r\n    name: 'tabindex',\r\n    addProseMirrorPlugins() {\r\n        return [\r\n            new Plugin({\r\n                key: new PluginKey('tabindex'),\r\n                props: {\r\n                    attributes: this.editor.isEditable ? { tabindex: '0' } : {},\r\n                },\r\n            }),\r\n        ];\r\n    },\r\n});\n\nvar extensions = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ClipboardTextSerializer: ClipboardTextSerializer,\n  Commands: Commands,\n  Editable: Editable,\n  FocusEvents: FocusEvents,\n  Keymap: Keymap,\n  Tabindex: Tabindex\n});\n\nconst style = `.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}`;\n\nfunction createStyleTag(style, nonce, suffix) {\r\n    const tiptapStyleTag = document.querySelector(`style[data-tiptap-style${suffix ? `-${suffix}` : ''}]`);\r\n    if (tiptapStyleTag !== null) {\r\n        return tiptapStyleTag;\r\n    }\r\n    const styleNode = document.createElement('style');\r\n    if (nonce) {\r\n        styleNode.setAttribute('nonce', nonce);\r\n    }\r\n    styleNode.setAttribute(`data-tiptap-style${suffix ? `-${suffix}` : ''}`, '');\r\n    styleNode.innerHTML = style;\r\n    document.getElementsByTagName('head')[0].appendChild(styleNode);\r\n    return styleNode;\r\n}\n\nclass Editor extends EventEmitter {\r\n    constructor(options = {}) {\r\n        super();\r\n        this.isFocused = false;\r\n        this.extensionStorage = {};\r\n        this.options = {\r\n            element: document.createElement('div'),\r\n            content: '',\r\n            injectCSS: true,\r\n            injectNonce: undefined,\r\n            extensions: [],\r\n            autofocus: false,\r\n            editable: true,\r\n            editorProps: {},\r\n            parseOptions: {},\r\n            enableInputRules: true,\r\n            enablePasteRules: true,\r\n            enableCoreExtensions: true,\r\n            onBeforeCreate: () => null,\r\n            onCreate: () => null,\r\n            onUpdate: () => null,\r\n            onSelectionUpdate: () => null,\r\n            onTransaction: () => null,\r\n            onFocus: () => null,\r\n            onBlur: () => null,\r\n            onDestroy: () => null,\r\n        };\r\n        this.isCapturingTransaction = false;\r\n        this.capturedTransaction = null;\r\n        this.setOptions(options);\r\n        this.createExtensionManager();\r\n        this.createCommandManager();\r\n        this.createSchema();\r\n        this.on('beforeCreate', this.options.onBeforeCreate);\r\n        this.emit('beforeCreate', { editor: this });\r\n        this.createView();\r\n        this.injectCSS();\r\n        this.on('create', this.options.onCreate);\r\n        this.on('update', this.options.onUpdate);\r\n        this.on('selectionUpdate', this.options.onSelectionUpdate);\r\n        this.on('transaction', this.options.onTransaction);\r\n        this.on('focus', this.options.onFocus);\r\n        this.on('blur', this.options.onBlur);\r\n        this.on('destroy', this.options.onDestroy);\r\n        window.setTimeout(() => {\r\n            if (this.isDestroyed) {\r\n                return;\r\n            }\r\n            this.commands.focus(this.options.autofocus);\r\n            this.emit('create', { editor: this });\r\n        }, 0);\r\n    }\r\n    /**\r\n     * Returns the editor storage.\r\n     */\r\n    get storage() {\r\n        return this.extensionStorage;\r\n    }\r\n    /**\r\n     * An object of all registered commands.\r\n     */\r\n    get commands() {\r\n        return this.commandManager.commands;\r\n    }\r\n    /**\r\n     * Create a command chain to call multiple commands at once.\r\n     */\r\n    chain() {\r\n        return this.commandManager.chain();\r\n    }\r\n    /**\r\n     * Check if a command or a command chain can be executed. Without executing it.\r\n     */\r\n    can() {\r\n        return this.commandManager.can();\r\n    }\r\n    /**\r\n     * Inject CSS styles.\r\n     */\r\n    injectCSS() {\r\n        if (this.options.injectCSS && document) {\r\n            this.css = createStyleTag(style, this.options.injectNonce);\r\n        }\r\n    }\r\n    /**\r\n     * Update editor options.\r\n     *\r\n     * @param options A list of options\r\n     */\r\n    setOptions(options = {}) {\r\n        this.options = {\r\n            ...this.options,\r\n            ...options,\r\n        };\r\n        if (!this.view || !this.state || this.isDestroyed) {\r\n            return;\r\n        }\r\n        if (this.options.editorProps) {\r\n            this.view.setProps(this.options.editorProps);\r\n        }\r\n        this.view.updateState(this.state);\r\n    }\r\n    /**\r\n     * Update editable state of the editor.\r\n     */\r\n    setEditable(editable, emitUpdate = true) {\r\n        this.setOptions({ editable });\r\n        if (emitUpdate) {\r\n            this.emit('update', { editor: this, transaction: this.state.tr });\r\n        }\r\n    }\r\n    /**\r\n     * Returns whether the editor is editable.\r\n     */\r\n    get isEditable() {\r\n        // since plugins are applied after creating the view\r\n        // `editable` is always `true` for one tick.\r\n        // that’s why we also have to check for `options.editable`\r\n        return this.options.editable && this.view && this.view.editable;\r\n    }\r\n    /**\r\n     * Returns the editor state.\r\n     */\r\n    get state() {\r\n        return this.view.state;\r\n    }\r\n    /**\r\n     * Register a ProseMirror plugin.\r\n     *\r\n     * @param plugin A ProseMirror plugin\r\n     * @param handlePlugins Control how to merge the plugin into the existing plugins.\r\n     */\r\n    registerPlugin(plugin, handlePlugins) {\r\n        const plugins = isFunction(handlePlugins)\r\n            ? handlePlugins(plugin, [...this.state.plugins])\r\n            : [...this.state.plugins, plugin];\r\n        const state = this.state.reconfigure({ plugins });\r\n        this.view.updateState(state);\r\n    }\r\n    /**\r\n     * Unregister a ProseMirror plugin.\r\n     *\r\n     * @param nameOrPluginKey The plugins name\r\n     */\r\n    unregisterPlugin(nameOrPluginKey) {\r\n        if (this.isDestroyed) {\r\n            return;\r\n        }\r\n        // @ts-ignore\r\n        const name = typeof nameOrPluginKey === 'string' ? `${nameOrPluginKey}$` : nameOrPluginKey.key;\r\n        const state = this.state.reconfigure({\r\n            // @ts-ignore\r\n            plugins: this.state.plugins.filter(plugin => !plugin.key.startsWith(name)),\r\n        });\r\n        this.view.updateState(state);\r\n    }\r\n    /**\r\n     * Creates an extension manager.\r\n     */\r\n    createExtensionManager() {\r\n        const coreExtensions = this.options.enableCoreExtensions ? Object.values(extensions) : [];\r\n        const allExtensions = [...coreExtensions, ...this.options.extensions].filter(extension => {\r\n            return ['extension', 'node', 'mark'].includes(extension === null || extension === void 0 ? void 0 : extension.type);\r\n        });\r\n        this.extensionManager = new ExtensionManager(allExtensions, this);\r\n    }\r\n    /**\r\n     * Creates an command manager.\r\n     */\r\n    createCommandManager() {\r\n        this.commandManager = new CommandManager({\r\n            editor: this,\r\n        });\r\n    }\r\n    /**\r\n     * Creates a ProseMirror schema.\r\n     */\r\n    createSchema() {\r\n        this.schema = this.extensionManager.schema;\r\n    }\r\n    /**\r\n     * Creates a ProseMirror view.\r\n     */\r\n    createView() {\r\n        const doc = createDocument(this.options.content, this.schema, this.options.parseOptions);\r\n        const selection = resolveFocusPosition(doc, this.options.autofocus);\r\n        this.view = new EditorView(this.options.element, {\r\n            ...this.options.editorProps,\r\n            dispatchTransaction: this.dispatchTransaction.bind(this),\r\n            state: EditorState.create({\r\n                doc,\r\n                selection: selection || undefined,\r\n            }),\r\n        });\r\n        // `editor.view` is not yet available at this time.\r\n        // Therefore we will add all plugins and node views directly afterwards.\r\n        const newState = this.state.reconfigure({\r\n            plugins: this.extensionManager.plugins,\r\n        });\r\n        this.view.updateState(newState);\r\n        this.createNodeViews();\r\n        this.prependClass();\r\n        // Let’s store the editor instance in the DOM element.\r\n        // So we’ll have access to it for tests.\r\n        const dom = this.view.dom;\r\n        dom.editor = this;\r\n    }\r\n    /**\r\n     * Creates all node views.\r\n     */\r\n    createNodeViews() {\r\n        this.view.setProps({\r\n            nodeViews: this.extensionManager.nodeViews,\r\n        });\r\n    }\r\n    /**\r\n     * Prepend class name to element.\r\n     */\r\n    prependClass() {\r\n        this.view.dom.className = `tiptap ${this.view.dom.className}`;\r\n    }\r\n    captureTransaction(fn) {\r\n        this.isCapturingTransaction = true;\r\n        fn();\r\n        this.isCapturingTransaction = false;\r\n        const tr = this.capturedTransaction;\r\n        this.capturedTransaction = null;\r\n        return tr;\r\n    }\r\n    /**\r\n     * The callback over which to send transactions (state updates) produced by the view.\r\n     *\r\n     * @param transaction An editor state transaction\r\n     */\r\n    dispatchTransaction(transaction) {\r\n        // if the editor / the view of the editor was destroyed\r\n        // the transaction should not be dispatched as there is no view anymore.\r\n        if (this.view.isDestroyed) {\r\n            return;\r\n        }\r\n        if (this.isCapturingTransaction) {\r\n            if (!this.capturedTransaction) {\r\n                this.capturedTransaction = transaction;\r\n                return;\r\n            }\r\n            transaction.steps.forEach(step => { var _a; return (_a = this.capturedTransaction) === null || _a === void 0 ? void 0 : _a.step(step); });\r\n            return;\r\n        }\r\n        const state = this.state.apply(transaction);\r\n        const selectionHasChanged = !this.state.selection.eq(state.selection);\r\n        this.view.updateState(state);\r\n        this.emit('transaction', {\r\n            editor: this,\r\n            transaction,\r\n        });\r\n        if (selectionHasChanged) {\r\n            this.emit('selectionUpdate', {\r\n                editor: this,\r\n                transaction,\r\n            });\r\n        }\r\n        const focus = transaction.getMeta('focus');\r\n        const blur = transaction.getMeta('blur');\r\n        if (focus) {\r\n            this.emit('focus', {\r\n                editor: this,\r\n                event: focus.event,\r\n                transaction,\r\n            });\r\n        }\r\n        if (blur) {\r\n            this.emit('blur', {\r\n                editor: this,\r\n                event: blur.event,\r\n                transaction,\r\n            });\r\n        }\r\n        if (!transaction.docChanged || transaction.getMeta('preventUpdate')) {\r\n            return;\r\n        }\r\n        this.emit('update', {\r\n            editor: this,\r\n            transaction,\r\n        });\r\n    }\r\n    /**\r\n     * Get attributes of the currently selected node or mark.\r\n     */\r\n    getAttributes(nameOrType) {\r\n        return getAttributes(this.state, nameOrType);\r\n    }\r\n    isActive(nameOrAttributes, attributesOrUndefined) {\r\n        const name = typeof nameOrAttributes === 'string' ? nameOrAttributes : null;\r\n        const attributes = typeof nameOrAttributes === 'string' ? attributesOrUndefined : nameOrAttributes;\r\n        return isActive(this.state, name, attributes);\r\n    }\r\n    /**\r\n     * Get the document as JSON.\r\n     */\r\n    getJSON() {\r\n        return this.state.doc.toJSON();\r\n    }\r\n    /**\r\n     * Get the document as HTML.\r\n     */\r\n    getHTML() {\r\n        return getHTMLFromFragment(this.state.doc.content, this.schema);\r\n    }\r\n    /**\r\n     * Get the document as text.\r\n     */\r\n    getText(options) {\r\n        const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {};\r\n        return getText(this.state.doc, {\r\n            blockSeparator,\r\n            textSerializers: {\r\n                ...getTextSerializersFromSchema(this.schema),\r\n                ...textSerializers,\r\n            },\r\n        });\r\n    }\r\n    /**\r\n     * Check if there is no content.\r\n     */\r\n    get isEmpty() {\r\n        return isNodeEmpty(this.state.doc);\r\n    }\r\n    /**\r\n     * Get the number of characters for the current document.\r\n     *\r\n     * @deprecated\r\n     */\r\n    getCharacterCount() {\r\n        console.warn('[tiptap warn]: \"editor.getCharacterCount()\" is deprecated. Please use \"editor.storage.characterCount.characters()\" instead.');\r\n        return this.state.doc.content.size - 2;\r\n    }\r\n    /**\r\n     * Destroy the editor.\r\n     */\r\n    destroy() {\r\n        this.emit('destroy');\r\n        if (this.view) {\r\n            this.view.destroy();\r\n        }\r\n        this.removeAllListeners();\r\n    }\r\n    /**\r\n     * Check if the editor is already destroyed.\r\n     */\r\n    get isDestroyed() {\r\n        var _a;\r\n        // @ts-ignore\r\n        return !((_a = this.view) === null || _a === void 0 ? void 0 : _a.docView);\r\n    }\r\n}\n\n/**\r\n * Build an input rule that adds a mark when the\r\n * matched text is typed into it.\r\n */\r\nfunction markInputRule(config) {\r\n    return new InputRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match);\r\n            if (attributes === false || attributes === null) {\r\n                return null;\r\n            }\r\n            const { tr } = state;\r\n            const captureGroup = match[match.length - 1];\r\n            const fullMatch = match[0];\r\n            if (captureGroup) {\r\n                const startSpaces = fullMatch.search(/\\S/);\r\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\r\n                const textEnd = textStart + captureGroup.length;\r\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc)\r\n                    .filter(item => {\r\n                    // @ts-ignore\r\n                    const excluded = item.mark.type.excluded;\r\n                    return excluded.find(type => type === config.type && type !== item.mark.type);\r\n                })\r\n                    .filter(item => item.to > textStart);\r\n                if (excludedMarks.length) {\r\n                    return null;\r\n                }\r\n                if (textEnd < range.to) {\r\n                    tr.delete(textEnd, range.to);\r\n                }\r\n                if (textStart > range.from) {\r\n                    tr.delete(range.from + startSpaces, textStart);\r\n                }\r\n                const markEnd = range.from + startSpaces + captureGroup.length;\r\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\r\n                tr.removeStoredMark(config.type);\r\n            }\r\n        },\r\n    });\r\n}\n\n/**\r\n * Build an input rule that adds a node when the\r\n * matched text is typed into it.\r\n */\r\nfunction nodeInputRule(config) {\r\n    return new InputRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\r\n            const { tr } = state;\r\n            const start = range.from;\r\n            let end = range.to;\r\n            const newNode = config.type.create(attributes);\r\n            if (match[1]) {\r\n                const offset = match[0].lastIndexOf(match[1]);\r\n                let matchStart = start + offset;\r\n                if (matchStart > end) {\r\n                    matchStart = end;\r\n                }\r\n                else {\r\n                    end = matchStart + match[1].length;\r\n                }\r\n                // insert last typed character\r\n                const lastChar = match[0][match[0].length - 1];\r\n                tr.insertText(lastChar, start + match[0].length - 1);\r\n                // insert node from input rule\r\n                tr.replaceWith(matchStart, end, newNode);\r\n            }\r\n            else if (match[0]) {\r\n                tr.insert(start - 1, config.type.create(attributes)).delete(tr.mapping.map(start), tr.mapping.map(end));\r\n            }\r\n            tr.scrollIntoView();\r\n        },\r\n    });\r\n}\n\n/**\r\n * Build an input rule that changes the type of a textblock when the\r\n * matched text is typed into it. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n */\r\nfunction textblockTypeInputRule(config) {\r\n    return new InputRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            const $start = state.doc.resolve(range.from);\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\r\n            if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), config.type)) {\r\n                return null;\r\n            }\r\n            state.tr\r\n                .delete(range.from, range.to)\r\n                .setBlockType(range.from, range.from, config.type, attributes);\r\n        },\r\n    });\r\n}\n\n/**\r\n * Build an input rule that replaces text when the\r\n * matched text is typed into it.\r\n */\r\nfunction textInputRule(config) {\r\n    return new InputRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            let insert = config.replace;\r\n            let start = range.from;\r\n            const end = range.to;\r\n            if (match[1]) {\r\n                const offset = match[0].lastIndexOf(match[1]);\r\n                insert += match[0].slice(offset + match[1].length);\r\n                start += offset;\r\n                const cutOff = start - end;\r\n                if (cutOff > 0) {\r\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\r\n                    start = end;\r\n                }\r\n            }\r\n            state.tr.insertText(insert, start, end);\r\n        },\r\n    });\r\n}\n\n/**\r\n * Build an input rule for automatically wrapping a textblock when a\r\n * given string is typed. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n *\r\n * `type` is the type of node to wrap in.\r\n *\r\n * By default, if there’s a node with the same type above the newly\r\n * wrapped node, the rule will try to join those\r\n * two nodes. You can pass a join predicate, which takes a regular\r\n * expression match and the node before the wrapped node, and can\r\n * return a boolean to indicate whether a join should happen.\r\n */\r\nfunction wrappingInputRule(config) {\r\n    return new InputRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match, chain, }) => {\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\r\n            const tr = state.tr.delete(range.from, range.to);\r\n            const $start = tr.doc.resolve(range.from);\r\n            const blockRange = $start.blockRange();\r\n            const wrapping = blockRange && findWrapping(blockRange, config.type, attributes);\r\n            if (!wrapping) {\r\n                return null;\r\n            }\r\n            tr.wrap(blockRange, wrapping);\r\n            if (config.keepMarks && config.editor) {\r\n                const { selection, storedMarks } = state;\r\n                const { splittableMarks } = config.editor.extensionManager;\r\n                const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks());\r\n                if (marks) {\r\n                    const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name));\r\n                    tr.ensureMarks(filteredMarks);\r\n                }\r\n            }\r\n            if (config.keepAttributes) {\r\n                /** If the nodeType is `bulletList` or `orderedList` set the `nodeType` as `listItem` */\r\n                const nodeType = config.type.name === 'bulletList' || config.type.name === 'orderedList' ? 'listItem' : 'taskList';\r\n                chain().updateAttributes(nodeType, attributes).run();\r\n            }\r\n            const before = tr.doc.resolve(range.from - 1).nodeBefore;\r\n            if (before\r\n                && before.type === config.type\r\n                && canJoin(tr.doc, range.from - 1)\r\n                && (!config.joinPredicate || config.joinPredicate(match, before))) {\r\n                tr.join(range.from - 1);\r\n            }\r\n        },\r\n    });\r\n}\n\nclass Mark {\r\n    constructor(config = {}) {\r\n        this.type = 'mark';\r\n        this.name = 'mark';\r\n        this.parent = null;\r\n        this.child = null;\r\n        this.config = {\r\n            name: this.name,\r\n            defaultOptions: {},\r\n        };\r\n        this.config = {\r\n            ...this.config,\r\n            ...config,\r\n        };\r\n        this.name = this.config.name;\r\n        if (config.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\r\n        }\r\n        // TODO: remove `addOptions` fallback\r\n        this.options = this.config.defaultOptions;\r\n        if (this.config.addOptions) {\r\n            this.options = callOrReturn(getExtensionField(this, 'addOptions', {\r\n                name: this.name,\r\n            }));\r\n        }\r\n        this.storage = callOrReturn(getExtensionField(this, 'addStorage', {\r\n            name: this.name,\r\n            options: this.options,\r\n        })) || {};\r\n    }\r\n    static create(config = {}) {\r\n        return new Mark(config);\r\n    }\r\n    configure(options = {}) {\r\n        // return a new instance so we can use the same extension\r\n        // with different calls of `configure`\r\n        const extension = this.extend();\r\n        extension.options = mergeDeep(this.options, options);\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n    extend(extendedConfig = {}) {\r\n        const extension = new Mark(extendedConfig);\r\n        extension.parent = this;\r\n        this.child = extension;\r\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\r\n        if (extendedConfig.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\r\n        }\r\n        extension.options = callOrReturn(getExtensionField(extension, 'addOptions', {\r\n            name: extension.name,\r\n        }));\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n    static handleExit({ editor, mark }) {\r\n        const { tr } = editor.state;\r\n        const currentPos = editor.state.selection.$from;\r\n        const isAtEnd = currentPos.pos === currentPos.end();\r\n        if (isAtEnd) {\r\n            const currentMarks = currentPos.marks();\r\n            const isInMark = !!currentMarks.find(m => (m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\r\n            if (!isInMark) {\r\n                return false;\r\n            }\r\n            const removeMark = currentMarks.find(m => (m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\r\n            if (removeMark) {\r\n                tr.removeStoredMark(removeMark);\r\n            }\r\n            tr.insertText(' ', currentPos.pos);\r\n            editor.view.dispatch(tr);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\n\nclass Node {\r\n    constructor(config = {}) {\r\n        this.type = 'node';\r\n        this.name = 'node';\r\n        this.parent = null;\r\n        this.child = null;\r\n        this.config = {\r\n            name: this.name,\r\n            defaultOptions: {},\r\n        };\r\n        this.config = {\r\n            ...this.config,\r\n            ...config,\r\n        };\r\n        this.name = this.config.name;\r\n        if (config.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\r\n        }\r\n        // TODO: remove `addOptions` fallback\r\n        this.options = this.config.defaultOptions;\r\n        if (this.config.addOptions) {\r\n            this.options = callOrReturn(getExtensionField(this, 'addOptions', {\r\n                name: this.name,\r\n            }));\r\n        }\r\n        this.storage = callOrReturn(getExtensionField(this, 'addStorage', {\r\n            name: this.name,\r\n            options: this.options,\r\n        })) || {};\r\n    }\r\n    static create(config = {}) {\r\n        return new Node(config);\r\n    }\r\n    configure(options = {}) {\r\n        // return a new instance so we can use the same extension\r\n        // with different calls of `configure`\r\n        const extension = this.extend();\r\n        extension.options = mergeDeep(this.options, options);\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n    extend(extendedConfig = {}) {\r\n        const extension = new Node(extendedConfig);\r\n        extension.parent = this;\r\n        this.child = extension;\r\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\r\n        if (extendedConfig.defaultOptions) {\r\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\r\n        }\r\n        extension.options = callOrReturn(getExtensionField(extension, 'addOptions', {\r\n            name: extension.name,\r\n        }));\r\n        extension.storage = callOrReturn(getExtensionField(extension, 'addStorage', {\r\n            name: extension.name,\r\n            options: extension.options,\r\n        }));\r\n        return extension;\r\n    }\r\n}\n\nfunction isAndroid() {\r\n    return navigator.platform === 'Android' || /android/i.test(navigator.userAgent);\r\n}\n\nclass NodeView {\r\n    constructor(component, props, options) {\r\n        this.isDragging = false;\r\n        this.component = component;\r\n        this.editor = props.editor;\r\n        this.options = {\r\n            stopEvent: null,\r\n            ignoreMutation: null,\r\n            ...options,\r\n        };\r\n        this.extension = props.extension;\r\n        this.node = props.node;\r\n        this.decorations = props.decorations;\r\n        this.getPos = props.getPos;\r\n        this.mount();\r\n    }\r\n    mount() {\r\n        // eslint-disable-next-line\r\n        return;\r\n    }\r\n    get dom() {\r\n        return this.editor.view.dom;\r\n    }\r\n    get contentDOM() {\r\n        return null;\r\n    }\r\n    onDragStart(event) {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        const { view } = this.editor;\r\n        const target = event.target;\r\n        // get the drag handle element\r\n        // `closest` is not available for text nodes so we may have to use its parent\r\n        const dragHandle = target.nodeType === 3\r\n            ? (_a = target.parentElement) === null || _a === void 0 ? void 0 : _a.closest('[data-drag-handle]')\r\n            : target.closest('[data-drag-handle]');\r\n        if (!this.dom || ((_b = this.contentDOM) === null || _b === void 0 ? void 0 : _b.contains(target)) || !dragHandle) {\r\n            return;\r\n        }\r\n        let x = 0;\r\n        let y = 0;\r\n        // calculate offset for drag element if we use a different drag handle element\r\n        if (this.dom !== dragHandle) {\r\n            const domBox = this.dom.getBoundingClientRect();\r\n            const handleBox = dragHandle.getBoundingClientRect();\r\n            // In React, we have to go through nativeEvent to reach offsetX/offsetY.\r\n            const offsetX = (_c = event.offsetX) !== null && _c !== void 0 ? _c : (_d = event.nativeEvent) === null || _d === void 0 ? void 0 : _d.offsetX;\r\n            const offsetY = (_e = event.offsetY) !== null && _e !== void 0 ? _e : (_f = event.nativeEvent) === null || _f === void 0 ? void 0 : _f.offsetY;\r\n            x = handleBox.x - domBox.x + offsetX;\r\n            y = handleBox.y - domBox.y + offsetY;\r\n        }\r\n        (_g = event.dataTransfer) === null || _g === void 0 ? void 0 : _g.setDragImage(this.dom, x, y);\r\n        // we need to tell ProseMirror that we want to move the whole node\r\n        // so we create a NodeSelection\r\n        const selection = NodeSelection.create(view.state.doc, this.getPos());\r\n        const transaction = view.state.tr.setSelection(selection);\r\n        view.dispatch(transaction);\r\n    }\r\n    stopEvent(event) {\r\n        var _a;\r\n        if (!this.dom) {\r\n            return false;\r\n        }\r\n        if (typeof this.options.stopEvent === 'function') {\r\n            return this.options.stopEvent({ event });\r\n        }\r\n        const target = event.target;\r\n        const isInElement = this.dom.contains(target) && !((_a = this.contentDOM) === null || _a === void 0 ? void 0 : _a.contains(target));\r\n        // any event from child nodes should be handled by ProseMirror\r\n        if (!isInElement) {\r\n            return false;\r\n        }\r\n        const isDragEvent = event.type.startsWith('drag');\r\n        const isDropEvent = event.type === 'drop';\r\n        const isInput = ['INPUT', 'BUTTON', 'SELECT', 'TEXTAREA'].includes(target.tagName) || target.isContentEditable;\r\n        // any input event within node views should be ignored by ProseMirror\r\n        if (isInput && !isDropEvent && !isDragEvent) {\r\n            return true;\r\n        }\r\n        const { isEditable } = this.editor;\r\n        const { isDragging } = this;\r\n        const isDraggable = !!this.node.type.spec.draggable;\r\n        const isSelectable = NodeSelection.isSelectable(this.node);\r\n        const isCopyEvent = event.type === 'copy';\r\n        const isPasteEvent = event.type === 'paste';\r\n        const isCutEvent = event.type === 'cut';\r\n        const isClickEvent = event.type === 'mousedown';\r\n        // ProseMirror tries to drag selectable nodes\r\n        // even if `draggable` is set to `false`\r\n        // this fix prevents that\r\n        if (!isDraggable && isSelectable && isDragEvent) {\r\n            event.preventDefault();\r\n        }\r\n        if (isDraggable && isDragEvent && !isDragging) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n        // we have to store that dragging started\r\n        if (isDraggable && isEditable && !isDragging && isClickEvent) {\r\n            const dragHandle = target.closest('[data-drag-handle]');\r\n            const isValidDragHandle = dragHandle && (this.dom === dragHandle || this.dom.contains(dragHandle));\r\n            if (isValidDragHandle) {\r\n                this.isDragging = true;\r\n                document.addEventListener('dragend', () => {\r\n                    this.isDragging = false;\r\n                }, { once: true });\r\n                document.addEventListener('drop', () => {\r\n                    this.isDragging = false;\r\n                }, { once: true });\r\n                document.addEventListener('mouseup', () => {\r\n                    this.isDragging = false;\r\n                }, { once: true });\r\n            }\r\n        }\r\n        // these events are handled by prosemirror\r\n        if (isDragging\r\n            || isDropEvent\r\n            || isCopyEvent\r\n            || isPasteEvent\r\n            || isCutEvent\r\n            || (isClickEvent && isSelectable)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    ignoreMutation(mutation) {\r\n        if (!this.dom || !this.contentDOM) {\r\n            return true;\r\n        }\r\n        if (typeof this.options.ignoreMutation === 'function') {\r\n            return this.options.ignoreMutation({ mutation });\r\n        }\r\n        // a leaf/atom node is like a black box for ProseMirror\r\n        // and should be fully handled by the node view\r\n        if (this.node.isLeaf || this.node.isAtom) {\r\n            return true;\r\n        }\r\n        // ProseMirror should handle any selections\r\n        if (mutation.type === 'selection') {\r\n            return false;\r\n        }\r\n        // try to prevent a bug on iOS and Android that will break node views on enter\r\n        // this is because ProseMirror can’t preventDispatch on enter\r\n        // this will lead to a re-render of the node view on enter\r\n        // see: https://github.com/ueberdosis/tiptap/issues/1214\r\n        // see: https://github.com/ueberdosis/tiptap/issues/2534\r\n        if (this.dom.contains(mutation.target)\r\n            && mutation.type === 'childList'\r\n            && (isiOS() || isAndroid())\r\n            && this.editor.isFocused) {\r\n            const changedNodes = [\r\n                ...Array.from(mutation.addedNodes),\r\n                ...Array.from(mutation.removedNodes),\r\n            ];\r\n            // we’ll check if every changed node is contentEditable\r\n            // to make sure it’s probably mutated by ProseMirror\r\n            if (changedNodes.every(node => node.isContentEditable)) {\r\n                return false;\r\n            }\r\n        }\r\n        // we will allow mutation contentDOM with attributes\r\n        // so we can for example adding classes within our node view\r\n        if (this.contentDOM === mutation.target && mutation.type === 'attributes') {\r\n            return true;\r\n        }\r\n        // ProseMirror should handle any changes within contentDOM\r\n        if (this.contentDOM.contains(mutation.target)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    updateAttributes(attributes) {\r\n        this.editor.commands.command(({ tr }) => {\r\n            const pos = this.getPos();\r\n            tr.setNodeMarkup(pos, undefined, {\r\n                ...this.node.attrs,\r\n                ...attributes,\r\n            });\r\n            return true;\r\n        });\r\n    }\r\n    deleteNode() {\r\n        const from = this.getPos();\r\n        const to = from + this.node.nodeSize;\r\n        this.editor.commands.deleteRange({ from, to });\r\n    }\r\n}\n\n/**\r\n * Build an paste rule that adds a mark when the\r\n * matched text is pasted into it.\r\n */\r\nfunction markPasteRule(config) {\r\n    return new PasteRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match);\r\n            if (attributes === false || attributes === null) {\r\n                return null;\r\n            }\r\n            const { tr } = state;\r\n            const captureGroup = match[match.length - 1];\r\n            const fullMatch = match[0];\r\n            let markEnd = range.to;\r\n            if (captureGroup) {\r\n                const startSpaces = fullMatch.search(/\\S/);\r\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\r\n                const textEnd = textStart + captureGroup.length;\r\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc)\r\n                    .filter(item => {\r\n                    // @ts-ignore\r\n                    const excluded = item.mark.type.excluded;\r\n                    return excluded.find(type => type === config.type && type !== item.mark.type);\r\n                })\r\n                    .filter(item => item.to > textStart);\r\n                if (excludedMarks.length) {\r\n                    return null;\r\n                }\r\n                if (textEnd < range.to) {\r\n                    tr.delete(textEnd, range.to);\r\n                }\r\n                if (textStart > range.from) {\r\n                    tr.delete(range.from + startSpaces, textStart);\r\n                }\r\n                markEnd = range.from + startSpaces + captureGroup.length;\r\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\r\n                tr.removeStoredMark(config.type);\r\n            }\r\n        },\r\n    });\r\n}\n\n// source: https://stackoverflow.com/a/6969486\r\nfunction escapeForRegEx(string) {\r\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n}\n\nfunction isString(value) {\r\n    return typeof value === 'string';\r\n}\n\n/**\r\n * Build an paste rule that adds a node when the\r\n * matched text is pasted into it.\r\n */\r\nfunction nodePasteRule(config) {\r\n    return new PasteRule({\r\n        find: config.find,\r\n        handler({ match, chain, range }) {\r\n            const attributes = callOrReturn(config.getAttributes, undefined, match);\r\n            if (attributes === false || attributes === null) {\r\n                return null;\r\n            }\r\n            if (match.input) {\r\n                chain().deleteRange(range).insertContentAt(range.from, {\r\n                    type: config.type.name,\r\n                    attrs: attributes,\r\n                });\r\n            }\r\n        },\r\n    });\r\n}\n\n/**\r\n * Build an paste rule that replaces text when the\r\n * matched text is pasted into it.\r\n */\r\nfunction textPasteRule(config) {\r\n    return new PasteRule({\r\n        find: config.find,\r\n        handler: ({ state, range, match }) => {\r\n            let insert = config.replace;\r\n            let start = range.from;\r\n            const end = range.to;\r\n            if (match[1]) {\r\n                const offset = match[0].lastIndexOf(match[1]);\r\n                insert += match[0].slice(offset + match[1].length);\r\n                start += offset;\r\n                const cutOff = start - end;\r\n                if (cutOff > 0) {\r\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\r\n                    start = end;\r\n                }\r\n            }\r\n            state.tr.insertText(insert, start, end);\r\n        },\r\n    });\r\n}\n\nclass Tracker {\r\n    constructor(transaction) {\r\n        this.transaction = transaction;\r\n        this.currentStep = this.transaction.steps.length;\r\n    }\r\n    map(position) {\r\n        let deleted = false;\r\n        const mappedPosition = this.transaction.steps\r\n            .slice(this.currentStep)\r\n            .reduce((newPosition, step) => {\r\n            const mapResult = step.getMap().mapResult(newPosition);\r\n            if (mapResult.deleted) {\r\n                deleted = true;\r\n            }\r\n            return mapResult.pos;\r\n        }, position);\r\n        return {\r\n            position: mappedPosition,\r\n            deleted,\r\n        };\r\n    }\r\n}\n\nexport { CommandManager, Editor, Extension, InputRule, Mark, Node, NodeView, PasteRule, Tracker, callOrReturn, combineTransactionSteps, createChainableState, createDocument, createNodeFromContent, createStyleTag, defaultBlockAt, deleteProps, elementFromString, escapeForRegEx, extensions, findChildren, findChildrenInRange, findDuplicates, findParentNode, findParentNodeClosestToPos, fromString, generateHTML, generateJSON, generateText, getAttributes, getAttributesFromExtensions, getChangedRanges, getDebugJSON, getExtensionField, getHTMLFromFragment, getMarkAttributes, getMarkRange, getMarkType, getMarksBetween, getNodeAtPosition, getNodeAttributes, getNodeType, getRenderedAttributes, getSchema, getSchemaByResolvedExtensions, getSchemaTypeByName, getSchemaTypeNameByName, getSplittedAttributes, getText, getTextBetween, getTextContentFromNodes, getTextSerializersFromSchema, injectExtensionAttributesToParseRule, inputRulesPlugin, isActive, isAtEndOfNode, isAtStartOfNode, isEmptyObject, isExtensionRulesEnabled, isFunction, isList, isMacOS, isMarkActive, isNodeActive, isNodeEmpty, isNodeSelection, isNumber, isPlainObject, isRegExp, isString, isTextSelection, isiOS, markInputRule, markPasteRule, mergeAttributes, mergeDeep, minMax, nodeInputRule, nodePasteRule, objectIncludes, pasteRulesPlugin, posToDOMRect, removeDuplicates, resolveFocusPosition, selectionToInsertionEnd, splitExtensions, textInputRule, textPasteRule, textblockTypeInputRule, wrappingInputRule };\n//# sourceMappingURL=index.js.map\n","import { BubbleMenuPlugin } from '@tiptap/extension-bubble-menu';\nimport React, { useState, useRef, useEffect, createContext, useContext } from 'react';\nimport ReactDOM, { flushSync } from 'react-dom';\nimport { Editor as Editor$1, NodeView } from '@tiptap/core';\nexport * from '@tiptap/core';\nimport { FloatingMenuPlugin } from '@tiptap/extension-floating-menu';\n\nconst Portals = ({ renderers }) => {\r\n    return (React.createElement(React.Fragment, null, Object.entries(renderers).map(([key, renderer]) => {\r\n        return ReactDOM.createPortal(renderer.reactElement, renderer.element, key);\r\n    })));\r\n};\r\nclass PureEditorContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editorContentRef = React.createRef();\r\n        this.initialized = false;\r\n        this.state = {\r\n            renderers: {},\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n    }\r\n    componentDidUpdate() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        const { editor } = this.props;\r\n        if (editor && editor.options.element) {\r\n            if (editor.contentComponent) {\r\n                return;\r\n            }\r\n            const element = this.editorContentRef.current;\r\n            element.append(...editor.options.element.childNodes);\r\n            editor.setOptions({\r\n                element,\r\n            });\r\n            editor.contentComponent = this;\r\n            editor.createNodeViews();\r\n            this.initialized = true;\r\n        }\r\n    }\r\n    maybeFlushSync(fn) {\r\n        // Avoid calling flushSync until the editor is initialized.\r\n        // Initialization happens during the componentDidMount or componentDidUpdate\r\n        // lifecycle methods, and React doesn't allow calling flushSync from inside\r\n        // a lifecycle method.\r\n        if (this.initialized) {\r\n            flushSync(fn);\r\n        }\r\n        else {\r\n            fn();\r\n        }\r\n    }\r\n    setRenderer(id, renderer) {\r\n        this.maybeFlushSync(() => {\r\n            this.setState(({ renderers }) => ({\r\n                renderers: {\r\n                    ...renderers,\r\n                    [id]: renderer,\r\n                },\r\n            }));\r\n        });\r\n    }\r\n    removeRenderer(id) {\r\n        this.maybeFlushSync(() => {\r\n            this.setState(({ renderers }) => {\r\n                const nextRenderers = { ...renderers };\r\n                delete nextRenderers[id];\r\n                return { renderers: nextRenderers };\r\n            });\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        const { editor } = this.props;\r\n        if (!editor) {\r\n            return;\r\n        }\r\n        this.initialized = false;\r\n        if (!editor.isDestroyed) {\r\n            editor.view.setProps({\r\n                nodeViews: {},\r\n            });\r\n        }\r\n        editor.contentComponent = null;\r\n        if (!editor.options.element.firstChild) {\r\n            return;\r\n        }\r\n        const newElement = document.createElement('div');\r\n        newElement.append(...editor.options.element.childNodes);\r\n        editor.setOptions({\r\n            element: newElement,\r\n        });\r\n    }\r\n    render() {\r\n        const { editor, ...rest } = this.props;\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(\"div\", { ref: this.editorContentRef, ...rest }),\r\n            React.createElement(Portals, { renderers: this.state.renderers })));\r\n    }\r\n}\r\n// EditorContent should be re-created whenever the Editor instance changes\r\nconst EditorContentWithKey = (props) => {\r\n    const key = React.useMemo(() => {\r\n        return Math.floor(Math.random() * 0xFFFFFFFF).toString();\r\n    }, [props.editor]);\r\n    // Can't use JSX here because it conflicts with the type definition of Vue's JSX, so use createElement\r\n    return React.createElement(PureEditorContent, { key, ...props });\r\n};\r\nconst EditorContent = React.memo(EditorContentWithKey);\n\nclass Editor extends Editor$1 {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.contentComponent = null;\r\n    }\r\n}\n\nfunction useForceUpdate() {\r\n    const [, setValue] = useState(0);\r\n    return () => setValue(value => value + 1);\r\n}\r\nconst useEditor = (options = {}, deps = []) => {\r\n    const [editor, setEditor] = useState(null);\r\n    const forceUpdate = useForceUpdate();\r\n    const { onBeforeCreate, onBlur, onCreate, onDestroy, onFocus, onSelectionUpdate, onTransaction, onUpdate, } = options;\r\n    const onBeforeCreateRef = useRef(onBeforeCreate);\r\n    const onBlurRef = useRef(onBlur);\r\n    const onCreateRef = useRef(onCreate);\r\n    const onDestroyRef = useRef(onDestroy);\r\n    const onFocusRef = useRef(onFocus);\r\n    const onSelectionUpdateRef = useRef(onSelectionUpdate);\r\n    const onTransactionRef = useRef(onTransaction);\r\n    const onUpdateRef = useRef(onUpdate);\r\n    // This effect will handle updating the editor instance\r\n    // when the event handlers change.\r\n    useEffect(() => {\r\n        if (!editor) {\r\n            return;\r\n        }\r\n        if (onBeforeCreate) {\r\n            editor.off('beforeCreate', onBeforeCreateRef.current);\r\n            editor.on('beforeCreate', onBeforeCreate);\r\n            onBeforeCreateRef.current = onBeforeCreate;\r\n        }\r\n        if (onBlur) {\r\n            editor.off('blur', onBlurRef.current);\r\n            editor.on('blur', onBlur);\r\n            onBlurRef.current = onBlur;\r\n        }\r\n        if (onCreate) {\r\n            editor.off('create', onCreateRef.current);\r\n            editor.on('create', onCreate);\r\n            onCreateRef.current = onCreate;\r\n        }\r\n        if (onDestroy) {\r\n            editor.off('destroy', onDestroyRef.current);\r\n            editor.on('destroy', onDestroy);\r\n            onDestroyRef.current = onDestroy;\r\n        }\r\n        if (onFocus) {\r\n            editor.off('focus', onFocusRef.current);\r\n            editor.on('focus', onFocus);\r\n            onFocusRef.current = onFocus;\r\n        }\r\n        if (onSelectionUpdate) {\r\n            editor.off('selectionUpdate', onSelectionUpdateRef.current);\r\n            editor.on('selectionUpdate', onSelectionUpdate);\r\n            onSelectionUpdateRef.current = onSelectionUpdate;\r\n        }\r\n        if (onTransaction) {\r\n            editor.off('transaction', onTransactionRef.current);\r\n            editor.on('transaction', onTransaction);\r\n            onTransactionRef.current = onTransaction;\r\n        }\r\n        if (onUpdate) {\r\n            editor.off('update', onUpdateRef.current);\r\n            editor.on('update', onUpdate);\r\n            onUpdateRef.current = onUpdate;\r\n        }\r\n    }, [onBeforeCreate, onBlur, onCreate, onDestroy, onFocus, onSelectionUpdate, onTransaction, onUpdate, editor]);\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const instance = new Editor(options);\r\n        setEditor(instance);\r\n        instance.on('transaction', () => {\r\n            requestAnimationFrame(() => {\r\n                requestAnimationFrame(() => {\r\n                    if (isMounted) {\r\n                        forceUpdate();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        return () => {\r\n            isMounted = false;\r\n        };\r\n    }, deps);\r\n    useEffect(() => {\r\n        return () => {\r\n            editor === null || editor === void 0 ? void 0 : editor.destroy();\r\n        };\r\n    }, [editor]);\r\n    return editor;\r\n};\n\nconst EditorContext = createContext({\r\n    editor: null,\r\n});\r\nconst EditorConsumer = EditorContext.Consumer;\r\nconst useCurrentEditor = () => useContext(EditorContext);\r\nconst EditorProvider = ({ children, slotAfter, slotBefore, ...editorOptions }) => {\r\n    const editor = useEditor(editorOptions);\r\n    if (!editor) {\r\n        return null;\r\n    }\r\n    return (React.createElement(EditorContext.Provider, { value: { editor } },\r\n        slotBefore,\r\n        React.createElement(EditorConsumer, null, ({ editor: currentEditor }) => (React.createElement(EditorContent, { editor: currentEditor }))),\r\n        children,\r\n        slotAfter));\r\n};\n\nconst BubbleMenu = (props) => {\r\n    const [element, setElement] = useState(null);\r\n    const { editor: currentEditor } = useCurrentEditor();\r\n    useEffect(() => {\r\n        var _a;\r\n        if (!element) {\r\n            return;\r\n        }\r\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\r\n            return;\r\n        }\r\n        const { pluginKey = 'bubbleMenu', editor, tippyOptions = {}, updateDelay, shouldShow = null, } = props;\r\n        const menuEditor = editor || currentEditor;\r\n        if (!menuEditor) {\r\n            console.warn('BubbleMenu component is not rendered inside of an editor component or does not have editor prop.');\r\n            return;\r\n        }\r\n        const plugin = BubbleMenuPlugin({\r\n            updateDelay,\r\n            editor: menuEditor,\r\n            element,\r\n            pluginKey,\r\n            shouldShow,\r\n            tippyOptions,\r\n        });\r\n        menuEditor.registerPlugin(plugin);\r\n        return () => menuEditor.unregisterPlugin(pluginKey);\r\n    }, [props.editor, currentEditor, element]);\r\n    return (React.createElement(\"div\", { ref: setElement, className: props.className, style: { visibility: 'hidden' } }, props.children));\r\n};\n\nconst FloatingMenu = (props) => {\r\n    const [element, setElement] = useState(null);\r\n    const { editor: currentEditor } = useCurrentEditor();\r\n    useEffect(() => {\r\n        var _a;\r\n        if (!element) {\r\n            return;\r\n        }\r\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\r\n            return;\r\n        }\r\n        const { pluginKey = 'floatingMenu', editor, tippyOptions = {}, shouldShow = null, } = props;\r\n        const menuEditor = editor || currentEditor;\r\n        if (!menuEditor) {\r\n            console.warn('FloatingMenu component is not rendered inside of an editor component or does not have editor prop.');\r\n            return;\r\n        }\r\n        const plugin = FloatingMenuPlugin({\r\n            pluginKey,\r\n            editor: menuEditor,\r\n            element,\r\n            tippyOptions,\r\n            shouldShow,\r\n        });\r\n        menuEditor.registerPlugin(plugin);\r\n        return () => menuEditor.unregisterPlugin(pluginKey);\r\n    }, [\r\n        props.editor,\r\n        currentEditor,\r\n        element,\r\n    ]);\r\n    return (React.createElement(\"div\", { ref: setElement, className: props.className, style: { visibility: 'hidden' } }, props.children));\r\n};\n\nconst ReactNodeViewContext = createContext({\r\n    onDragStart: undefined,\r\n});\r\nconst useReactNodeView = () => useContext(ReactNodeViewContext);\n\nconst NodeViewContent = props => {\r\n    const Tag = props.as || 'div';\r\n    const { nodeViewContentRef } = useReactNodeView();\r\n    return (React.createElement(Tag, { ...props, ref: nodeViewContentRef, \"data-node-view-content\": \"\", style: {\r\n            whiteSpace: 'pre-wrap',\r\n            ...props.style,\r\n        } }));\r\n};\n\nconst NodeViewWrapper = React.forwardRef((props, ref) => {\r\n    const { onDragStart } = useReactNodeView();\r\n    const Tag = props.as || 'div';\r\n    return (React.createElement(Tag, { ...props, ref: ref, \"data-node-view-wrapper\": \"\", onDragStart: onDragStart, style: {\r\n            whiteSpace: 'normal',\r\n            ...props.style,\r\n        } }));\r\n});\n\nfunction isClassComponent(Component) {\r\n    return !!(typeof Component === 'function'\r\n        && Component.prototype\r\n        && Component.prototype.isReactComponent);\r\n}\r\nfunction isForwardRefComponent(Component) {\r\n    var _a;\r\n    return !!(typeof Component === 'object'\r\n        && ((_a = Component.$$typeof) === null || _a === void 0 ? void 0 : _a.toString()) === 'Symbol(react.forward_ref)');\r\n}\r\nclass ReactRenderer {\r\n    constructor(component, { editor, props = {}, as = 'div', className = '', attrs, }) {\r\n        this.ref = null;\r\n        this.id = Math.floor(Math.random() * 0xFFFFFFFF).toString();\r\n        this.component = component;\r\n        this.editor = editor;\r\n        this.props = props;\r\n        this.element = document.createElement(as);\r\n        this.element.classList.add('react-renderer');\r\n        if (className) {\r\n            this.element.classList.add(...className.split(' '));\r\n        }\r\n        if (attrs) {\r\n            Object.keys(attrs).forEach(key => {\r\n                this.element.setAttribute(key, attrs[key]);\r\n            });\r\n        }\r\n        this.render();\r\n    }\r\n    render() {\r\n        var _a, _b;\r\n        const Component = this.component;\r\n        const props = this.props;\r\n        if (isClassComponent(Component) || isForwardRefComponent(Component)) {\r\n            props.ref = (ref) => {\r\n                this.ref = ref;\r\n            };\r\n        }\r\n        this.reactElement = React.createElement(Component, { ...props });\r\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.setRenderer(this.id, this);\r\n    }\r\n    updateProps(props = {}) {\r\n        this.props = {\r\n            ...this.props,\r\n            ...props,\r\n        };\r\n        this.render();\r\n    }\r\n    destroy() {\r\n        var _a, _b;\r\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.removeRenderer(this.id);\r\n    }\r\n}\n\nclass ReactNodeView extends NodeView {\r\n    mount() {\r\n        const props = {\r\n            editor: this.editor,\r\n            node: this.node,\r\n            decorations: this.decorations,\r\n            selected: false,\r\n            extension: this.extension,\r\n            getPos: () => this.getPos(),\r\n            updateAttributes: (attributes = {}) => this.updateAttributes(attributes),\r\n            deleteNode: () => this.deleteNode(),\r\n        };\r\n        if (!this.component.displayName) {\r\n            const capitalizeFirstChar = (string) => {\r\n                return string.charAt(0).toUpperCase() + string.substring(1);\r\n            };\r\n            this.component.displayName = capitalizeFirstChar(this.extension.name);\r\n        }\r\n        const ReactNodeViewProvider = componentProps => {\r\n            const Component = this.component;\r\n            const onDragStart = this.onDragStart.bind(this);\r\n            const nodeViewContentRef = element => {\r\n                if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\r\n                    element.appendChild(this.contentDOMElement);\r\n                }\r\n            };\r\n            return (React.createElement(React.Fragment, null,\r\n                React.createElement(ReactNodeViewContext.Provider, { value: { onDragStart, nodeViewContentRef } },\r\n                    React.createElement(Component, { ...componentProps }))));\r\n        };\r\n        ReactNodeViewProvider.displayName = 'ReactNodeView';\r\n        this.contentDOMElement = this.node.isLeaf\r\n            ? null\r\n            : document.createElement(this.node.isInline ? 'span' : 'div');\r\n        if (this.contentDOMElement) {\r\n            // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\r\n            // With this fix it seems to work fine\r\n            // See: https://github.com/ueberdosis/tiptap/issues/1197\r\n            this.contentDOMElement.style.whiteSpace = 'inherit';\r\n        }\r\n        let as = this.node.isInline ? 'span' : 'div';\r\n        if (this.options.as) {\r\n            as = this.options.as;\r\n        }\r\n        const { className = '' } = this.options;\r\n        this.handleSelectionUpdate = this.handleSelectionUpdate.bind(this);\r\n        this.editor.on('selectionUpdate', this.handleSelectionUpdate);\r\n        this.renderer = new ReactRenderer(ReactNodeViewProvider, {\r\n            editor: this.editor,\r\n            props,\r\n            as,\r\n            className: `node-${this.node.type.name} ${className}`.trim(),\r\n            attrs: this.options.attrs,\r\n        });\r\n    }\r\n    get dom() {\r\n        var _a;\r\n        if (this.renderer.element.firstElementChild\r\n            && !((_a = this.renderer.element.firstElementChild) === null || _a === void 0 ? void 0 : _a.hasAttribute('data-node-view-wrapper'))) {\r\n            throw Error('Please use the NodeViewWrapper component for your node view.');\r\n        }\r\n        return this.renderer.element;\r\n    }\r\n    get contentDOM() {\r\n        if (this.node.isLeaf) {\r\n            return null;\r\n        }\r\n        return this.contentDOMElement;\r\n    }\r\n    handleSelectionUpdate() {\r\n        const { from, to } = this.editor.state.selection;\r\n        if (from <= this.getPos() && to >= this.getPos() + this.node.nodeSize) {\r\n            this.selectNode();\r\n        }\r\n        else {\r\n            this.deselectNode();\r\n        }\r\n    }\r\n    update(node, decorations) {\r\n        const updateProps = (props) => {\r\n            this.renderer.updateProps(props);\r\n        };\r\n        if (node.type !== this.node.type) {\r\n            return false;\r\n        }\r\n        if (typeof this.options.update === 'function') {\r\n            const oldNode = this.node;\r\n            const oldDecorations = this.decorations;\r\n            this.node = node;\r\n            this.decorations = decorations;\r\n            return this.options.update({\r\n                oldNode,\r\n                oldDecorations,\r\n                newNode: node,\r\n                newDecorations: decorations,\r\n                updateProps: () => updateProps({ node, decorations }),\r\n            });\r\n        }\r\n        if (node === this.node && this.decorations === decorations) {\r\n            return true;\r\n        }\r\n        this.node = node;\r\n        this.decorations = decorations;\r\n        updateProps({ node, decorations });\r\n        return true;\r\n    }\r\n    selectNode() {\r\n        this.renderer.updateProps({\r\n            selected: true,\r\n        });\r\n    }\r\n    deselectNode() {\r\n        this.renderer.updateProps({\r\n            selected: false,\r\n        });\r\n    }\r\n    destroy() {\r\n        this.renderer.destroy();\r\n        this.editor.off('selectionUpdate', this.handleSelectionUpdate);\r\n        this.contentDOMElement = null;\r\n    }\r\n}\r\nfunction ReactNodeViewRenderer(component, options) {\r\n    return (props) => {\r\n        // try to get the parent component\r\n        // this is important for vue devtools to show the component hierarchy correctly\r\n        // maybe it’s `undefined` because <editor-content> isn’t rendered yet\r\n        if (!props.editor.contentComponent) {\r\n            return {};\r\n        }\r\n        return new ReactNodeView(component, props, options);\r\n    };\r\n}\n\nexport { BubbleMenu, Editor, EditorConsumer, EditorContent, EditorContext, EditorProvider, FloatingMenu, NodeViewContent, NodeViewWrapper, PureEditorContent, ReactNodeViewRenderer, ReactRenderer, useCurrentEditor, useEditor };\n//# sourceMappingURL=index.js.map\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar rowSizeBase = {\n    width: '100%',\n    height: '10px',\n    top: '0px',\n    left: '0px',\n    cursor: 'row-resize',\n};\nvar colSizeBase = {\n    width: '10px',\n    height: '100%',\n    top: '0px',\n    left: '0px',\n    cursor: 'col-resize',\n};\nvar edgeBase = {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n};\nvar styles = {\n    top: __assign(__assign({}, rowSizeBase), { top: '-5px' }),\n    right: __assign(__assign({}, colSizeBase), { left: undefined, right: '-5px' }),\n    bottom: __assign(__assign({}, rowSizeBase), { top: undefined, bottom: '-5px' }),\n    left: __assign(__assign({}, colSizeBase), { left: '-5px' }),\n    topRight: __assign(__assign({}, edgeBase), { right: '-10px', top: '-10px', cursor: 'ne-resize' }),\n    bottomRight: __assign(__assign({}, edgeBase), { right: '-10px', bottom: '-10px', cursor: 'se-resize' }),\n    bottomLeft: __assign(__assign({}, edgeBase), { left: '-10px', bottom: '-10px', cursor: 'sw-resize' }),\n    topLeft: __assign(__assign({}, edgeBase), { left: '-10px', top: '-10px', cursor: 'nw-resize' }),\n};\nvar Resizer = /** @class */ (function (_super) {\n    __extends(Resizer, _super);\n    function Resizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        _this.onTouchStart = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        return _this;\n    }\n    Resizer.prototype.render = function () {\n        return (React.createElement(\"div\", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));\n    };\n    return Resizer;\n}(React.PureComponent));\nexport { Resizer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { flushSync } from 'react-dom';\nimport { Resizer } from './resizer';\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = function (n, min, max) { return Math.max(Math.min(n, max), min); };\nvar snap = function (n, size) { return Math.round(n / size) * size; };\nvar hasDirection = function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n};\n// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.\nvar isTouchEvent = function (event) {\n    return Boolean(event.touches && event.touches.length);\n};\nvar isMouseEvent = function (event) {\n    return Boolean((event.clientX || event.clientX === 0) &&\n        (event.clientY || event.clientY === 0));\n};\nvar findClosestSnap = function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n};\nvar getStringSize = function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (n.endsWith('px')) {\n        return n;\n    }\n    if (n.endsWith('%')) {\n        return n;\n    }\n    if (n.endsWith('vh')) {\n        return n;\n    }\n    if (n.endsWith('vw')) {\n        return n;\n    }\n    if (n.endsWith('vmax')) {\n        return n;\n    }\n    if (n.endsWith('vmin')) {\n        return n;\n    }\n    return n + \"px\";\n};\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (size.endsWith('px')) {\n            return Number(size.replace('px', ''));\n        }\n        if (size.endsWith('%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        if (size.endsWith('vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        if (size.endsWith('vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n};\nvar definedProps = [\n    'as',\n    'style',\n    'className',\n    'grid',\n    'snap',\n    'bounds',\n    'boundsByDirection',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableRight = 0;\n        _this.resizableTop = 0;\n        _this.resizableBottom = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.appendBase = function () {\n            if (!_this.resizable || !_this.window) {\n                return null;\n            }\n            var parent = _this.parentNode;\n            if (!parent) {\n                return null;\n            }\n            var element = _this.window.document.createElement('div');\n            element.style.width = '100%';\n            element.style.height = '100%';\n            element.style.position = 'absolute';\n            element.style.transform = 'scale(0, 0)';\n            element.style.left = '0';\n            element.style.flex = '0 0 100%';\n            if (element.classList) {\n                element.classList.add(baseClassName);\n            }\n            else {\n                element.className += baseClassName;\n            }\n            parent.appendChild(element);\n            return element;\n        };\n        _this.removeBase = function (base) {\n            var parent = _this.parentNode;\n            if (!parent) {\n                return;\n            }\n            parent.removeChild(base);\n        };\n        _this.ref = function (c) {\n            if (c) {\n                _this.resizable = c;\n            }\n        };\n        _this.state = {\n            isResizing: false,\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.width,\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.height,\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && _this.propsSize[key].toString().endsWith('%')) {\n                    if (_this.state[key].toString().endsWith('%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        var base = this.appendBase();\n        if (!base) {\n            return { width: 0, height: 0 };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        base.style.position = 'relative';\n        base.style.minWidth = '100%';\n        base.style.minHeight = '100%';\n        var size = {\n            width: base.offsetWidth,\n            height: base.offsetHeight,\n        };\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.removeBase(base);\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove, {\n                capture: true,\n                passive: false,\n            });\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove, true);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        var boundsByDirection = this.props.boundsByDirection;\n        var direction = this.state.direction;\n        var widthByDirection = boundsByDirection && hasDirection('left', direction);\n        var heightByDirection = boundsByDirection && hasDirection('top', direction);\n        var boundWidth;\n        var boundHeight;\n        if (this.props.bounds === 'parent') {\n            var parent_1 = this.parentNode;\n            if (parent_1) {\n                boundWidth = widthByDirection\n                    ? this.resizableRight - this.parentLeft\n                    : parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);\n                boundHeight = heightByDirection\n                    ? this.resizableBottom - this.parentTop\n                    : parent_1.offsetHeight + (this.parentTop - this.resizableTop);\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                boundWidth = widthByDirection ? this.resizableRight : this.window.innerWidth - this.resizableLeft;\n                boundHeight = heightByDirection ? this.resizableBottom : this.window.innerHeight - this.resizableTop;\n            }\n        }\n        else if (this.props.bounds) {\n            boundWidth = widthByDirection\n                ? this.resizableRight - this.targetLeft\n                : this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            boundHeight = heightByDirection\n                ? this.resizableBottom - this.targetTop\n                : this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n        }\n        if (boundWidth && Number.isFinite(boundWidth)) {\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n        }\n        if (boundHeight && Number.isFinite(boundHeight)) {\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var resizeRatio = this.props.resizeRatio || 1;\n        var _a = this.state, direction = _a.direction, original = _a.original;\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var parentRect = parent_2.getBoundingClientRect();\n                this.parentLeft = parentRect.left;\n                this.parentTop = parentRect.top;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left;\n            this.targetTop = targetRect.top;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top, right = _a.right, bottom = _a.bottom;\n            this.resizableLeft = left;\n            this.resizableRight = right;\n            this.resizableTop = top_1;\n            this.resizableBottom = bottom;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n        }\n        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var dir = this.window.getComputedStyle(parent_3).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        var _this = this;\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        if (this.window.TouchEvent && isTouchEvent(event)) {\n            try {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            catch (e) {\n                // Ignore on fail\n            }\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;\n        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\n            var gap = this.props.snapGap || 0;\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (width.endsWith('%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (width.endsWith('vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (width.endsWith('vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (height.endsWith('%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (height.endsWith('vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (height.endsWith('vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        // For v18, update state sync\n        flushSync(function () {\n            _this.setState(newState);\n        });\n        if (this.props.onResize) {\n            this.props.onResize(event, direction, this.resizable, delta);\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState(this.props.size);\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        this.setState({ width: size.width, height: size.height });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (React.createElement(Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (React.createElement(\"div\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        var Wrapper = this.props.as || 'div';\n        return (React.createElement(Wrapper, __assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),\n            this.state.isResizing && React.createElement(\"div\", { style: this.state.backgroundStyle }),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        as: 'div',\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(React.PureComponent));\nexport { Resizable };\n","import React from \"react\";\nimport { NodeViewWrapper } from \"@tiptap/react\";\nimport { Resizable } from \"re-resizable\";\nimport { Node as ProsemirrorNode } from \"prosemirror-model\";\n\ninterface WrapperProps {\n  node: ProsemirrorNode;\n  updateAttributes: (attrs: unknown) => void;\n}\n\nexport default function ResizableImageWrapper(props: WrapperProps) {\n  return (\n    <NodeViewWrapper className=\"image-resizer\">\n      <Resizable\n        defaultSize={{\n          width: props.node.attrs.width,\n          height: props.node.attrs.height,\n        }}\n        onResize={(e, direction, ref) => {\n          props.updateAttributes({\n            width: ref.style.width,\n            height: ref.style.height,\n          });\n        }}\n        maxWidth={\"100%\"}\n        style={{\n          backgroundImage: `url(${props.node.attrs.src})`,\n          backgroundSize: \"cover\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n        lockAspectRatio={true}\n      ></Resizable>\n    </NodeViewWrapper>\n  );\n}\n","import { mergeAttributes, Node, nodeInputRule } from \"@tiptap/core\";\nimport { ReactNodeViewRenderer } from \"@tiptap/react\";\nimport ResizableImageWrapper from \"./wrapper\";\n\ninterface ImageOptions {\n  inline: boolean;\n  allowBase64: boolean;\n  HTMLAttributes: Record<string, string>;\n}\n\ndeclare module \"@tiptap/core\" {\n  interface Commands<ReturnType> {\n    customImage: {\n      /**\n       * Add an image\n       */\n      setImage: (options: {\n        src: string;\n        alt?: string;\n        title?: string;\n        height?: string;\n        width?: string;\n      }) => ReturnType;\n    };\n  }\n}\n\nconst inputRegex = /(?:^|\\s)(!\\[(.+|:?)]\\((\\S+)(?:(?:\\s+)[\"'](\\S+)[\"'])?\\))$/;\n\nexport const ResizableImage = Node.create<ImageOptions>({\n  name: \"image\",\n\n  addOptions() {\n    return {\n      inline: false,\n      allowBase64: false,\n      HTMLAttributes: {},\n    };\n  },\n\n  inline() {\n    return this.options.inline;\n  },\n\n  group() {\n    return this.options.inline ? \"inline\" : \"block\";\n  },\n\n  draggable: true,\n\n  addAttributes() {\n    return {\n      src: {\n        default: null,\n      },\n      alt: {\n        default: null,\n      },\n      title: {\n        default: null,\n      },\n      height: {\n        default: null,\n      },\n      width: {\n        default: null,\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: \"img\",\n      },\n    ];\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    const { height, width } = HTMLAttributes;\n    const attributes = {\n      ...HTMLAttributes,\n      style: `height: ${height} !important; width: ${width} !important;`,\n    };\n    return [\"img\", mergeAttributes(this.options.HTMLAttributes, attributes)];\n  },\n\n  addCommands() {\n    return {\n      setImage:\n        (options) =>\n        ({ commands }) => {\n          return commands.insertContent({\n            type: this.name,\n            attrs: options,\n          });\n        },\n    };\n  },\n\n  addNodeView() {\n    return ReactNodeViewRenderer(ResizableImageWrapper);\n  },\n\n  addInputRules() {\n    return [\n      nodeInputRule({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: (match) => {\n          const [, , alt, src, title, height, width] = match;\n          return { src, alt, title, height, width };\n        },\n      }),\n    ];\n  },\n});\n"],"names":["Plugin","PluginKey","liftTarget","createParagraphNear$1","state","TextSelection","deleteSelection$1","exitCode$1","Selection","Fragment","DOMParser","ReplaceStep","ReplaceAroundStep","joinUp$1","joinDown$1","joinBackward$1","joinForward$1","joinPoint","lift$1","liftEmptyBlock$1","liftListItem$1","newlineInCode$1","selectNodeBackward$1","selectNodeForward$1","selectParentNode$1","selectTextblockEnd$1","selectTextblockStart$1","setBlockType","NodeSelection","sinkListItem$1","canSplit","Slice","canJoin","wrapIn$1","wrapInList$1","React","ReactDOM","flushSync","createContext","useContext","__extends","this","__assign"],"mappings":"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"}